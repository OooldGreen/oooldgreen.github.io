<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>期末知识点复习 | Snow Cabin</title><meta name=keywords content="interview"><meta name=description content="方便反复诵读复习"><meta name=author content="Silva"><link rel=canonical href=/posts/frontend/interview-practice/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.464f9b77111bda4aee49bf2ad1987e36490fb9f4103f2d1b02945f1f0e06ac94.css integrity="sha256-Rk+bdxEb2kruSb8q0Zh+NkkPufQQPy0bApRfHw4GrJQ=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=apple-touch-icon href=%3Clink%20/%20absolute%20url%3E><link rel=mask-icon href=%3Clink%20/%20absolute%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link href=https://fonts.cdnfonts.com/css/montserrat rel=stylesheet><link href=https://fonts.cdnfonts.com/css/freemono rel=stylesheet><progress id=content_progress value=0></progress>
<script>document.addEventListener("DOMContentLoaded",function(){var t=window.innerHeight,n=document.documentElement.scrollHeight,e=document.querySelector("#content_progress");e.max=n-t,e.value=window.scrollY,document.addEventListener("scroll",function(){e.max=document.documentElement.scrollHeight-window.innerHeight,e.value=window.scrollY})})</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.3/dist/katex.min.css integrity=sha384-Juol1FqnotbkyZUT5Z7gUPjQ9gzlwCENvUZTpQBAPxtusdwFLRy382PSDx5UUJ4/ crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.3/dist/katex.min.js integrity=sha384-97gW6UIJxnlKemYavrqDHSX3SiygeOwIZhwyOKRfSaf0JWKRVj9hLASHgFTzT+0O crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.3/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="期末知识点复习"><meta property="og:description" content="方便反复诵读复习"><meta property="og:type" content="article"><meta property="og:url" content="/posts/frontend/interview-practice/"><meta property="og:image" content><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-30T10:35:16+08:00"><meta property="article:modified_time" content="2022-11-06T00:00:00+00:00"><meta property="og:site_name" content="Snow Cabin"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content><meta name=twitter:title content="期末知识点复习"><meta name=twitter:description content="方便反复诵读复习"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"/posts/"},{"@type":"ListItem","position":3,"name":"Frontend","item":"/posts/frontend/"},{"@type":"ListItem","position":4,"name":"期末知识点复习","item":"/posts/frontend/interview-practice/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"期末知识点复习","name":"期末知识点复习","description":"方便反复诵读复习\n","keywords":["interview"],"articleBody":"方便反复诵读复习\n1. 计算机原理 1.1 输入 URL 到渲染完成的整个过程 根据域名递归查找地址，先查找缓存，没有则进行 DNS 解析，向域名服务器获取 IP ，返回给浏览器 建立 TCP 连接 客户端发送请求，服务端收到请求并响应 客户端接收到响应结果，得到资源文档，可能进行解压缩 解析文档构建 DOM 树和 CSSOM 树，合成 Render 树 进行布局，再渲染，呈现页面 面试题之从敲入 URL 到浏览器渲染完成\n1.2 TCP 三次握手和四次挥手 详解TCP 三次握手和四次挥手\nTCP 三次握手 客户端发送 SYN 报文，初始化 ISN 序列，SYN 标识为置为一，发送后进入 SYN_SENT 状态 服务端接收后发送 SYN + ACK 报文，并把客户端发送报文的 ISN 序列号 +1 作为自己的 ACK 字段，把 ACK 和 SYN 标志位都置为 1，进入 SYN_REVD 状态 客户端接收后发送 ACK 报文，ACK 标志位置为 1，这次可以携带应用层数据，进入 ESTABLISHED 状态 为什么是三次握手？ 确保序列号有效的同步 确定客户端和服务端收发正常 避免资源浪费 TCP 四次挥手 客户端发送 FIN 报文，进入 FIN_WAIT_1 状态 服务端收到后，发送 ACK 报文，进入 CLOSED_WAIT 状态 客户端收到报文后，进入 FIN_WAIT_2 状态 服务端处理完数据后，发送 FIN 报文，服务端进入 LAST_ACK 状态 客户端收到后，发送 ACK 报文，进入 TIME_WAIT 状态，等待 2MSL 时间后自动关闭，进入 CLOSED 状态 服务端收到 ACK 报文后，直接进入 CLOSED 状态 为什么是四次挥手？ 确保客户端和服务端都不再接收和发送数据 服务端可能有数据要处理，所以 ACK 和 FIN 分开发送 等待 2MSL 时间是为了确保服务端收到报文信息，如果没有收到，服务端会重新发送 FIN 报文，客户端就要再次发送 ACK 报文，因此至少是一个报文来回的时间 1.3 TCP 和 UDP 的区别 TCP 面向连接传输，需要先建立连接，UDP 不需要 TCP 基于可靠性传输，UDP 保证传输速度不保证传输质量 TCP 一对一传输，UDP 可以一对一、一对多、多对多 TCP 有拥塞控制和流量控制，UDP 没有 UDP 头部长度固定，开销小 1.4 HTTP 和 HTTPS HTTP 和 HTTPS 的区别 HTTPS 加入了 SSL 证书进行加密，HTTP 不用 HTTPS 更安全，更利于 SEO HTTPS 基于传输层，HTTP 基于应用层 HTTPS 标准端口 43，HTTP 标准端口 80 状态码 参考\n1: 临时响应，需要继续处理消息\n102 Processing: 处理中，通常需要很长时间才能完成请求时发送\n2: 请求成功\n3: 重定向\n301 Moved Permanently: 资源（网页等）永久被移动至其他 URL，之后任何新的请求都使用新的 URL 替代\n302 Found: 临时移动，客户端应使用原有 URL\n304 Not Modified: 所请求的资源未修改过\n4: 请求失败，客户端错误\n400 Bad Request: 客户端请求语法错误，服务器无法理解\n404 Not Found: 无法找到资源\n5: 请求失败，服务端错误\n500 Internal Server Error: 通用错误信息，服务器遇到了未曾预料到的情况，无法完成请求\n502 Bad Gateway: 作为网关或者代理工作的服务器尝试执行请求时，从上游服务器接收到无效的响应\n1.5 用户登录认证 Cookie 和 Session 在服务端创建 Session，将 SessionId 发送给客户端保存在 Cookie 中，在以后发送请求时自动携带，服务端分解 Cookie 后验证成功将请求返回客户端。\n缺点：\n数据都保存在服务器端，服务器有压力。 用 Cookie 不用 Session，所有数据都保存在客户端的话一旦 Cookie 被劫持，所有数据全部泄露 Token 无状态令牌，用户信息被加密到 Token 中，服务端解密就能得知是哪个用户，一般保存在浏览器本地缓存中。服务器端生成 Token 后返回给客户端，客户端再次发送请求时在 headers 中添加 Token，服务端校验成功就会返回数据。\n生成方式：JWT (Json Web Token)，三部分组成 header + payload + signature\n优点：\n防止 CSRF 攻击，token 可以存放在前端任何地方，不用保存在 cookie 中，浏览器也不会自动把 token 放入 headers 里，不能通过 document.cookie 直接拿到，攻击者无法访问用户的 token 服务器端不需要存放 token，减轻服务端压力 1.6 浏览器缓存 浏览器缓存将文件保存在客户端，可以减少对带宽的占用，减少响应时间，提升用户体验。\n页面的缓存状态是由 http-header 字段决定的，相关的字段为 Cache-Control、Expires、Last-Modified/If-Modified-Since、Etag/If-None-Match。\n大致分为协商缓存和强缓存。\n强缓存 Cache-Control：\n设置 max-age，设定时间内可以直接从本地缓存中读取文件并加载 public/private，设置缓存能否在用户间共享 no-cache， 不进行缓存 Expires： 设置页面过期的时间，过期时间内可以直接读取缓存\n协商缓存 协商缓存有两组字段：Last-Modified/If-Modified-Since 和 Etag/If-None-Match，其中 Etag 优先级更高。\n请求过程是检查是否命中协商缓存，如果资源无更新，返回 304 并直接读取资源，如果修改过，返回 200 并加载新资源。\nLast-Modified/If-Modified-Since：分别表示最后修改的时间和缓存对象最后修改时间，相互对比得出资源是否被更新 Etag/If-None-Match：hash 生成特殊标识，如果更新资源 hash 值就会改变，再缓存文件存储的字符串进行对比 1.7 浏览器本地存储方式 cookie、localStorage 和 sessionStorage cookie、localStorage 和 sessionStorage 都是浏览器本地缓存方式。\n区别：\ncookie 在服务器和客户端之间来回传递，localStorage 和 sessionStorage 都是浏览器本地保存 cookie 存储空间很小，大概只有 4kb ，sessionStorage 和 localStorage 存储空间较大，大概在 5M 左右 sessionStorage 在浏览器窗口关闭时就会自动清空，localStorage 需要手动清除，cookie 在设置的有效期之内一直有效 localStorage 和 cookie 在所有同源窗口中共享，sessionStorage 换个页面就不行了 1.8 安全攻击 CSRF 跨站请求伪造。伪造 cookie ，通过模仿用户行为进行操作。\n防御方式：\n使用验证码 添加 referer 字段 使用 token 验证 XSS 跨站脚本攻击。通过注入恶意代码，读取用户敏感信息，在用户浏览页面时进行攻击。\n防御方式：\n开启 set-cookie: httponly，禁止 js 脚本访问 cookie 输入输出检查，对用户输入的字符进行转义 1.9 前端优化 SEO方法 meta标签的优化：标题、网站描述、关键词、目录、编码语种等 关键词：密度、相关度、突出性考虑 了解主要搜索引擎的检索排序方式 链接交换，其他网站链接到你的网站越多，你的网站访问量就越大 合理使用标签，使搜索网站更容易抓取内容 性能优化 内容 减少请求 减少 DNS 查找 加载顺序 CSS 在前，JS 在后 减少 404 服务器优化 使用 CDN 缓存 延迟加载、预加载组件 GZip 压缩 路由懒加载、图片懒加载 使用雪碧图 图片懒加载 参考\n内联图片：将图片的 src 放在自定义的属性里面，利用 js 检查标签是否在视窗中，如果在将自定义的属性赋值给 src 属性就可以了。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 // 获取所有图片 const imgList = document.querySelectorAll('img') // 用于记录当前显示到了哪一张图片 let index = 0; function lazyload() { // 获取浏览器视口高度,这里写在函数内部是考虑浏览器窗口大小改变的情况 const viewPortHeight = window.innerHeight for (let i = index; i \u003c imgList.length; i++) { // 这里用可视区域高度减去图片顶部距离可视区域顶部的高度 const distance = viewPortHeight - imgList[i].getBoundingClientRect().top; // 如果可视区域高度大于等于元素顶部距离可视区域顶部的高度，说明图片已经出现在了视口范围内 if (distance \u003e= 0) { // 给图片赋值真实的src，展示图片 imgList[i].src = imgList[i].getAttribute('data-src'); // 前i张图片已经加载完毕，下次从第i+1张开始检查是否需要显示 index = i + 1; } } } // 再加一个节流函数 // 使用的时候挂载： window.onload = lazyload() intersection observer：要考虑兼容性 css图像：利用 background-image，当 js 检测到元素处于视窗中，加一个 class 类名引用外部图片资源 更全面的 js 功能实现\n路由懒加载 动态导入代替静态导入\n1 2 3 4 // 将 import UserDetails from './views/UserDetails' // 替换成 const UserDetails = () =\u003e import('./views/UserDetails') 使用 webpack（babel）分块导入，只需要使用命名 chunk，魔法注释提供 chunk name\n1 2 const Users = () =\u003e import(/* webpackChunkName: \"users-rights-roles\" */ '../components/user/Users.vue') const Rights = () =\u003e import(/* webpackChunkName: \"users-rights-roles\" */ '../components/power/Rights.vue') 服务端渲染 SSR 服务器端生成HTML直接返回给浏览器。\n实现方式：\nVue + Nuxt.js 优势：\n减少网络传输，提高传输效率 首屏渲染快 有利于 SEO，提高搜索效率 缺点：\n不利于前后端分离，开发效率不高 占用服务器的资源 1.10 axios axios 是一个基于 promise 的 HTTP 库，支持 promise 的所有 API 它可以拦截请求和响应 它可以转换请求数据和响应数据，并对响应回来的内容自动转换为 json 类型的数据 它安全性更高，客户端支持防御 XSRF axios 拦截器 拦截器分为请求拦截器和响应拦截器\n请求拦截器用于在请求之前做处理，例如带上 token、时间戳等，响应拦截器用于接口返回之后做处理，例如判断 token 是否过期。\n原理：创建一个 chn 数组，数组中保存了拦截器相应方法和 dispatchRequest，请求拦截器放到 dispatchRequest 前面，响应拦截器放到 dispatchRequest 后面，把请求拦截器和响应拦截器 forEach 放到数组中，用 promise 出队列的方式保证他们的执行顺序挨个执行。\n1.11 跨域方法 同源策略：协议、域名、端口号都相同，保护浏览器免受攻击\nJSONP：利用 script 标签可以进行跨域请求的特性，创建一个 script 标签写入跨域请求，并通过 callback 接收响应。仅支持 get 方法 CORS：后端处理，前端写入字段 Access-Control-Allow-Origin Vue Proxy 1 2 3 4 5 6 7 8 // vue.config.js/webpack.config.js // 优点：配置简单 // 缺点：不能灵活控制请求是否走代理，因为都会走代理 module.exports={ devServer:{ proxy:'http://xxx.xxx.xxx:5000' } } WebSocket：提供全双工、双向通信 PostMessage：HTML5 中的 API 1.12 前后端实时通信 轮询：客户端隔一段时间询问一次，适用于小型应用，实用性不高 长轮询：客户端询问后，服务端有新消息才返回 WebSocket：长连接，适用于微信、网络互动游戏等 iframe 流：插入一个隐藏的 iframe，利用其 src 属性在服务器和客户端之间创建一条长连接，服务器向 iframe 传输数据（通常是 HTML，内有负责插入信息的 javascript），来实时更新页面。兼容性好，但长连接会增加开销 SSE：单向通道，服务器向浏览器推送资源 1.13 主流浏览器 浏览器 内核 IE Trident Firefox Gecko Chrome Blink Safari Webkit Opera Blink 1.14 get 和 post 请求的区别 get 回退是无害的，post 会再次提交请求 get 参数通过 url 进行传递，更不安全，有长度限制；post 参数放在 request body 中，更安全，没有长度限制 get 会被浏览器主动缓存保存参数，post 不会 get 产生一个 TCP 数据包，post 产生两个（在 Firefox 中只有一个） 2. JS 2.1 数据类型 数据类型 Number, Object，String, Boolean, Null, Undefined, BigInt, Symbol\nBigInt 和 Symbol 是 ES6 新的数据类型，Symbol 创建一个不重复的变量，可以用于 object 的 key。\n引用数据类型：Object，存储在堆中，栈中一个指针指向它 普通数据类型：除了 Object 以外其他的数据类型，存储在栈中 null 和 undefined 的区别 参考\nnull：表示被定义了，但是是空值，占用内存，通过 typeof 判断是 object (这是因为 typeof 通过二进制前三位判断数据类型，null 和 object 一样前三位都是 000) undefined：是一个变量未赋值 或 一个函数没有返回值 或 访问一个对象不存在 或 一个函数定义了形参但没有传递实参，通过 typeof 判断是 undefined 2.2 方法 判断数据类型的方法 typeof：只能区分基本数据类型，引用数据类型除了 function 会返回 function，其余都是 object constructor：用于引用数据类型，检测方法是获取实例的构造函数判断和某个类是否相同，如果相同就说明该数据是符合那个数据类型的，这种方法不会把原型链上的其他类也加入进来，避免了原型链的干扰。 instanceof：用于引用数据类型，检测数据类型是否在当前变量的原型链上 Object.prototype.toString.call()：适用于所有数据类型 toString 这个方法是用于返回当前调用者的对象类型的，返回[object [class]] call 是为了让 Object.prototype.toString 方法指向括号内指定的数据, 否则调用者是 Objec.prototype，返回永远都是[object Object] 数组方法 增删改查：push、pop、shift、unshift、concat、join、reverse、sort、map、forEach、reduce、slice、splice、forEach、filter、indexOf\n改变原数组：push、pop、shift、unshift、reverse、sort、splice\n不改变原数组：concat、join、filter、slice、reduce、map\n数组去重 Array from(new Set(array)) [...new Set(array)] filter 采用对象数组方法去重 1 2 3 4 5 6 7 8 9 10 11 function sort(arr){ let obj = {}; let newArr = []; for(let i = 0; i \u003c arr.length; i++){ if(!obj[arr[i]]){ obj[arr[i]] = 1; newArr.push(arr[i]); } } return newArr; } 翻转字符串 split -\u003e reverse -\u003e join\n1 2 3 4 5 function reverse(str){ for(let i = 0; i \u003c str.length; i++){ return str.split('').reverse().join(''); } } map 和 forEach map 不改变原数组，开辟新空间，返回新数组，处理速度快 forEach 返回 undefined，改变原数组 for…of 和 for…in for in 通用的对象遍历，遍历对象的 key，也包括原型链上的属性的遍历，是以任意顺序迭代对象的可枚举属性 for of 遍历的是值，遍历可迭代属性，不能直接用来遍历对象 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 Object.prototype.objCustom = function() {}; Array.prototype.arrCustom = function() {}; let iterable = [3, 5, 7]; iterable.foo = 'hello'; for (let i in iterable) { console.log(i); // 0, 1, 2, \"foo\", \"arrCustom\", \"objCustom\" } for (let i in iterable) { if (iterable.hasOwnProperty(i)) { console.log(i); // 0, 1, 2, \"foo\" } } for (let i of iterable) { console.log(i); // logs 3, 5, 7 } …扩展符 用于取出对象中可遍历的属性，浅拷贝到当前对象中\n2.3 异步方法 回调函数 Promise Generator：一个状态机，yield 暂停，next 下一步 Async/Await：基于 Promise 实现，看起来很像同步代码，使用上清晰明了 Promise 三种状态：PENDING、FULFILLED、REJECTED，状态一旦改变就不会再改变了\n方法:\nPromise.resolve(value) Promise.reject(reason) Promise.then：属于微任务 Promise.all：全部 Promise 成功，返回成功 Promise.any：一个 Promise 成功，返回成功 Promise.race：返回处理最快的那个的返回值，无论成功还是失败 实现 Promise 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 // 三个常量用于表示状态 const PENDING = 'pending' const RESOLVED = 'resolved' const REJECTED = 'rejected' function MyPromise(fn) { const that = this this.state = PENDING // value 变量用于保存 resolve 或者 reject 中传入的值 this.value = null // 用于保存 then 中的回调，因为当执行完 Promise 时状态可能还是等待中，这时候应该把 then 中的回调保存起来用于状态改变时使用 that.resolvedCallbacks = [] that.rejectedCallbacks = [] function resolve(value) { // 首先两个函数都得判断当前状态是否为等待中 if(that.state === PENDING) { that.state = RESOLVED that.value = value // 遍历回调数组并执行 that.resolvedCallbacks.map(cb=\u003ecb(that.value)) } } function reject(value) { if(that.state === PENDING) { that.state = REJECTED that.value = value that.rejectedCallbacks.map(cb=\u003ecb(that.value)) } } // 完成以上两个函数以后，我们就该实现如何执行 Promise 中传入的函数了 try { fn(resolve,reject) }catch(e){ reject(e) } } 实现 Promise.then 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 // 最后我们来实现较为复杂的 then 函数 MyPromise.prototype.then = function(onFulfilled,onRejected){ const that = this // 判断两个参数是否为函数类型，因为这两个参数是可选参数 onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : v =\u003e v; onRejected = typeof onRejected === 'function' ? onRejected : e =\u003e throw e; // 当状态不是等待态时，就去执行相对应的函数。如果状态是等待态的话，就往回调函数中 push 函数 if(this.state === PENDING) { this.resolvedCallbacks.push(onFulfilled) this.rejectedCallbacks.push(onRejected) } if(this.state === RESOLVED) { onFulfilled(that.value) } if(this.state === REJECTED) { onRejected(that.value) } } 实现 Promise.all 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 // 实现Promise.all()对象 function promiseAll(promises) { return new Promise(function(resolve, reject) { if (!isArray(promises)) { return reject(new TypeError('arguments must be an array')); } var resolvedCounter = 0; var promiseNum = promises.length; var resolvedValues = new Array(promiseNum); for (var i = 0; i \u003c promiseNum; i++) { (function(i) { Promise.resolve(promises[i]).then(function(value) { resolvedCounter++ resolvedValues[i] = value if (resolvedCounter == promiseNum) { return resolve(resolvedValues) } }, function(reason) { return reject(reason) }) })(i) } }) } 2.4 原型及原型链 每个构造函数都有一个原型对象 prototype，原型有一个属性 constructor 指回构造函数，实例有一个内部指针 __proto__ 指向原型 prototype。每个构造函数都有一个属性 prototype 指向原型对象，原型对象又有指针指向上一级原型对象，构成一条原型链，原型链的顶端是 null\n实例、构造函数和原型的关系 2.5 ES6 新特性 let 和 const 箭头函数 模块化导入导出 import/export 异步 promise 解构赋值 类 新的语法糖结构\n1 2 3 4 5 6 7 class Person { constructor() { console.log('Person') } } let p = new Person; // Person 箭头函数 没有 this，继承上下文的 this 不能 new，没有 arguments let、const 和 var 的区别 var 有变量提升，let、const 没有变量提升 var 是函数作用域，let 和 const 是块级作用域 var 能声明多次，let 和 const 只能声明一次 const 变量声明必须赋值，一旦赋值不可更改 2.6 New 创造一个空对象 添加属性 __proto__ 指向构造函数的原型对象 创建 this 上下文 返回这个函数 2.7 闭包 在子函数内部调用了父函数的变量，并在函数外被引用就形成闭包。\n闭包中的变量在函数运行完毕后也不会被销毁，因此如果不及时回收可能造成内存泄露。\n最常用的应用是封装私有变量，通过闭包只将方法暴露在外，保证了变量的私有性。\n2.8 事件循环 从宏任务 script 开始，按照 宏任务 -\u003e 微任务 的顺序循环处理。先从上到下执行，遇到宏任务放入宏任务队列，遇到微任务放到微任务队列，执行完进入微任务队列出队列处理，然后再处理宏任务，交替进行。\n宏任务 (macrotask)：script、定时器（setTimeout、setTimeInterval）、I/O 微任务 (microtask)：promise 的回调、nextTick、mutationObserver 2.9 事件委托 利用事件冒泡，把事件绑定到父元素上，当子元素发生事件时，通过冒泡触发父元素身上的事件从而做出响应。\n可以避免给每个子元素绑定事件，代码冗余且要加入子元素还要再次绑定事件。\n2.10 深拷贝和浅拷贝 浅拷贝只拷贝栈中的内容，深拷贝拷贝堆和栈中的内容。\n深拷贝的方法：\n第三方库，例如 lodash 中的 cloneDeep() 方法 JSON.parse(JSON.stringify(obj))，对于有些数据类型拷贝之后可能会丢失数据 新的方法 structuredClone()，但是对于 error 和 DOM 对象无法拷贝 自己写，递归拷贝 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 function deepClone(obj) { // 检测是否为 Array let objClone = Array.isArray(obj) ? [] : {}; if (obj \u0026\u0026 typeof obj === \"object\") { for (key in obj) { if (obj.hasOwnProperty(key)) { //判断obj子元素是否为对象，如果是，递归复制 if (obj[key] \u0026\u0026 typeof obj[key] === \"object\") { objClone[key] = deepClone(obj[key]); } else { //如果不是，简单复制 objClone[key] = obj[key]; } } } } return objClone; } 2.11 bind, apply 和 call 作用都是改变 this 指向 apply 接收参数只能是一个数组，call 和 bind 接收参数要一个一个传入参数 bind 直接改变 this 指向并返回一个新函数，之后再调用 this 都指向 bind 绑定的第一个参数 实现 apply 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 Function.prototype.myApply = function(context, args) { // 默认上下文为 window，不传参数就是空数组 context = context || windows; args = args ? args : []; // 给 context 新增一个独一无二的属性 // 用隐式绑定的方法调用函数 // 再删除添加的属性 const key = Symbol(); context[key] = this; const result = context[key](...args); delete context[key]; return result; } 实现 bind 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 Function.prototype.myBind = function(context, ...args) { args = args ? args : []; const fn = this; const result = function(..fnArgs) { // 如果是通过 new 调用的，绑定 this 为实例对象 if (this instanceof result) { fn.apply(this, [...args, ...fnArgs]); } else { // 否则普通函数形式绑定 context fn.apply(context, [...args, ...fnArgs]); } } // 绑定原型链 result.prototype = Object.create(fn.prototype); return result; } 2.12 垃圾回收 引用计数 对一个对象被引用的次数计数，引用计数为 0 则清除\n可以即刻回收，计算过于复杂，效率低\n标记清除 对所有活动的对象进行标记，清除阶段没有标记的会被清除\n计算简单，但内存空间不连续，造成内存碎片\n2.13 防抖节流 防抖 只认最后一次，n 秒之内又被触发则重新计时，例如按钮提交\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 // fn 是我们需要包装的事件回调, delay 是每次推迟执行的等待时间 function debounce(fn, delay) { // 定时器 let timer = null // 将 debounce 处理结果当作函数返回 return function () { // 保留调用时的 this 上下文 let context = this // 保留调用时传入的参数 let args = arguments // 每次事件被触发时，都去清除之前的旧定时器 if(timer) { clearTimeout(timer) } // 设立新定时器 timer = setTimeout(function () { fn.apply(context, args) }, delay) } } // 用 debounce 来包装 scroll 的回调 const better_scroll = debounce(() =\u003e console.log('触发了滚动事件'), 1000) document.addEventListener('scroll', better_scroll) 节流 只认第一次，在一定时间内只能触发一次\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 // fn 是我们需要包装的事件回调, delay 是时间间隔的阈值 function throttle(fn, delay) { // last 为上一次触发回调的时间 let last = 0 // 将 throttle 处理结果当作函数返回 return function () { // 保留调用时的 this 上下文 let context = this // 保留调用时传入的参数 let args = arguments // 记录本次触发回调的时间（获取时间戳） let now = +new Date() // 判断上次触发的时间和本次触发的时间差是否小于时间间隔的阈值 if (now - last \u003e= delay) { // 如果时间间隔大于我们设定的时间间隔阈值，则执行回调 last = now; fn.apply(context, args); } } } // 用 throttle 来包装 scroll 的回调 const better_scroll = throttle(() =\u003e console.log('触发了滚动事件'), 1000) document.addEventListener('scroll', better_scroll) 2.14 函数柯里化 接收的多个参数转化为一个一个的参数的函数，指将一个函数从可调用的 f(a, b, c) 转换为可调用的 f(a)(b)(c)。\n2.15 请求方式 fetch 请求 fetch 请求是基于 Promise 实现，最简单的 fetch 请求只需要带一个参数，就是请求的路径。fetch 请求会返回一个 Promise\n1 fetch('urlxxx').then(...) 用 await 写更清晰，必须用 try...catch 捕获错误\n1 2 3 4 5 6 7 8 9 async function getData() { try { const response = await fetch('urlxxx'); // 得到 json 对象 return await response.json(); } catch(error) { thorw new Error(error); } } response.status 是 200 才会被认定为请求成功\n1 2 3 4 5 6 7 8 9 async function getData() { let response = await fetch('xxx'); if(response.status === 200) { // 获取文本数据 return await response.text(); } else { throw new Error(response.statusText); } } 一些定制 HTTP 请求的参数：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 const response = await fetch(url, { // 请求方法，可以是 POST，GET 等 methods: \"POST\", // 请求数据的格式 headers: { \"Content-Type\": \"application/json\", //'application/x-www-form-urlencoded' }, // 有新版本才使用服务器资源否则使用缓存，默认为 \"default\"，也就是先查找缓存 cache: \"no-cache\", // 默认允许跨域请求，不允许是 \"no-cors\"，只允许同源是 \"same-origin\" mode: \"cors\", // 默认同源发送 cookie，还有参数 \"include\" 和 \"omit\"，分别为一律发送和一律不发送 credentials: \"same-origin\", }) ajax 请求 ajax 请求在XMLHttpRequest的基础上实现。XMLHttpRequest请求可以在不刷新整个页面的情况下更新数据。\n使用 Ajax 一共三步：创建对象、发送请求、监听响应\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 // 创建 ajax 对象 var xhr = new XMLHttpRequest(); /** 配置请求，三个参数 method、url、async * method: 可以是 get 或 post * url：请求路径 * async：true 或 false，是否异步 **/ xhr.open(\"get\", \"xxx\", true) // 发送请求，post 请求可以在其中放入数据 xhr.send(); // 监听响应 xhr.onload = function() { console.log(xhr.responseText); } 2.16 继承 原型链继承\n组合继承\n寄生式继承\n寄生式组合继承\n2.17 设计模式 创建型 单例模式：保证类的实例只有一个 建造者模式 结构型 代理模式 装饰器模式 适配器模式 行为型 发布订阅模式 迭代器模式 3. HTML 和 CSS 3.1 HTML5新特性 增加的特性 canvas video 和 audio localStorage 和 sessionStorage 语义化更好的元素内容，如 article, footer, header, nav, svg, figure, menu 新的技术 webworker、 websocket 移除的元素 纯表现的元素，例如 big，basefont，s，u 对可用性产生负面影响，例如 frame，noframes 3.2 HTML 语义化 结构清晰，利于 SEO 便于维护 没有 css 也能看懂 便于对浏览器、搜索引擎解析 3.3 HTML 中 title 属性和 alt 属性的区别 title 是图片加载后的标题，鼠标放上去后会显示 alt 是图片没有加载出来时候显示的内容 3.4 重绘和重排 重绘 (repaint) 部分重新绘制，style 修改。重绘不一定发生重排。\n触发场景：\ncolor 修改 text-align 修改 a:hover 修改 重排/回流 (reflow) 重新排版布局，涉及 DOM 的排版布局问题，性能损耗更多。重排必定发生重绘。\n触发场景：\n盒子长宽的改变 动画，伪类等引起的元素表面改动 display: none scroll、resize 页面 background 的修改 appendChild 等 DOM 元素操作 读取元素的属性，如 offsetLeft、offsetTop、scrollTop/Left/… 如何避免重绘重排 通过改变 class 批量改变 style，同时尽可能减少受影响的 DOM 使用 absolute 或 fixed 脱离文档流 GPU 加速，开启之后的元素会被独立出来，不再影响其他布局 避免用 table 进行布局 3.5 BFC 块级格式化上下文，是一块独立渲染的区域，内部元素的渲染不会影响外部的元素。BFC 布局会把盒子在垂直方向上一个一个排列，盒子之间的距离由 margin 决定，两个相邻盒子的 margin 会互相重叠。BFC 区域不会与 float box 重叠，计算高度时，浮动盒子也参与计算。\n触发 BFC\n根元素 html display 为 inline-block，table-cell, table-caption position 为 fixed 或 absolute float 不为 none oveflow 不为 visible 3.6 CSS3 新特性 border-radius，box-shadow 文本效果 text-shadow、font-family、font-weight、font-style 多背景 rgba 动画 @keyframes 线性渐变 新增伪类 3.7 盒子模型 标准盒模型：box-sizing: content-box，设置的宽高只表示内容的宽高，不包含 padding 和 border 怪异盒模型：box-sizing: border-box，设置的宽高就是整个盒子的大小，包含 padding 和 border 3.8 水平垂直居中 绝对定位 1 2 3 4 5 6 7 .item{ position: absolute; top: 50%; left: 50%; margin-top: -75px; /* 设置margin-left / margin-top 为自身高度的一半 */ margin-left: -75px; } transform 1 2 3 4 5 6 .item{ position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); /* 使用 css3 的 transform 来实现 */ } flex 布局 1 2 3 4 5 .parent{ display: flex; justify-content: center; align-items: center; } grid 布局 1 2 3 4 5 .parent { display: grid; justify-content: center; align-items: center; } table-cell 布局 1 2 3 4 5 6 7 8 .parent { display: table-cell; text-align: center; vertical-align:center; } .item { display: inline-block; } 3.9 画一个三角形 盒子宽高都设为 0，只设置 border，三条边都设置 transparent，只留一条边有颜色\n1 2 3 4 5 6 7 #demo { width: 0; height: 0; border-width: 20px; border-style: solid; border-color: transparent transparent red transparent; } 3.10 三栏布局 三栏布局的要求是两边宽度固定，中间的盒子自适应布局，高度随内容撑起。\n圣杯布局 三个盒子放在一个父元素节点中，设置父盒子 padding 为左右两栏的宽度且 overflow: hidden，三个盒子设置左浮动 float: left。中间盒子宽度设置 100%，两栏宽度设好，左栏 margin 设置 -100% 且右移一个自身宽度，右栏 margin 设置 -自身宽度，且左移一个自身宽度。\n好处是不用添加 DOM 节点，但是 middle 部分小于 left 部分时布局会破碎。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 \u003cstyle\u003e .parent { padding: 0 200px; overflow: hidden; } .column { float: left; position: relative; height: 200px; } .middle { width: 100%; background-color: pink; } .left { width: 200px; background-color: #eee; margin-left: -100%; left: -200px; } .right { width: 200px; background-color: #eee; margin-left: -200px; left: 200px; } \u003c/style\u003e \u003cbody\u003e \u003cdiv class=\"parent\"\u003e \u003cdiv class=\"middle column\"\u003emiddle\u003c/div\u003e \u003cdiv class=\"left column\"\u003eleft\u003c/div\u003e \u003cdiv class=\"right column\"\u003eright\u003c/div\u003e \u003c/div\u003e \u003c/body\u003e 双飞翼布局 中间盒子外面需要再包一层盒子，将外面这层盒子设置 margin 为左右两栏的宽度，三个盒子设置浮动，中间盒子宽度 100%，两边盒子宽度设置好之后，左边盒子设置 margin-left 为 100%，右边盒子设置 margin-left 为 -自身宽度，最后父盒子清除浮动。\n好处是稳定，代码简洁，缺点是多加了 DOM 节点。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 \u003cstyle\u003e .container { overflow: hidden; } .content, .left, .right { float: left; height: 200px; } .content { width: 100%; } .center { margin: 0 200px; background-color: pink; height: 200px; } .left { width: 200px; margin-left: -100%; background-color: #eee; } .right { width: 200px; margin-left: -200px; background-color: #eee; } \u003c/style\u003e \u003cbody\u003e \u003cdiv class=\"container\"\u003e \u003cdiv class=\"content\"\u003e \u003cdiv class=\"center\"\u003ecenter\u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"left\"\u003eleft\u003c/div\u003e \u003cdiv class=\"right\"\u003eright\u003c/div\u003e \u003c/div\u003e \u003c/body\u003e 3.11 link 和 @import 的区别 link 属于 XHTML 标签，除了加载 CSS 外，还能用于定义 RSS(是一种描述和同步网站内容的格式，是使用最广泛的 XML 应用), 定义 rel 连接属性等作用 而 @import 是 CSS 提供的，只能用于加载 CSS 页面被加载的时，link 会同时被加载，而 @import 引用的 CSS 会等到页面被加载完再加载 import 是 CSS2.1 提出的，只在 IE5 以上才能被识别，而 link 是 XHTML 标签，无兼容问题 总之，link 要优于 @import。 3.12 雪碧图 将一个页面设计到的图片包含到一张图片里去，然后通过定位的方法选取合适的图片。\n这样做的好处是：\n可以一次请求完所有图片，不用发很多请求，加快了速度，提升了页面性能 减少图片的字节，放在一起比单独的图片字节数更小 更换风格方便，只需要更换这张雪碧图所有的图标风格都可以改变 缺点是：\n切图很麻烦，还可能造成背景断裂 开发和维护都比较麻烦，一个图标元素的位置移动可能导致所有图标位置都要移动 3.13 伪类和伪元素 根本不同在于是否创建了新的 DOM 元素\n伪类操作文档中已有的元素，如 :hover、:link、:focus 伪元素创建新的元素进行操作，如 ::first-line、:before、:after 3.14 flex布局 参考\n容器的属性\nflex: wrap 决定如何换行，nowrap | wrap | wrap-reverse flex: direction 决定主轴的方向，row | row-reverse | column | column-reverse justify-content 决定主轴上的对齐方式 align-items 决定交叉轴上的对齐方式 项目的属性\ngrow：存在剩余空间时的放大倍数 shrink：空间不足时的缩小比例 basis：分配多余空间之前，主轴占据的空间 flex: 1 包含了三个元素：grow, shrink, basis，默认值为 0 1 auto 1 2 3 .item { flex: none | [ \u003c'flex-grow'\u003e \u003c'flex-shrink'\u003e? || \u003c'flex-basis'\u003e ] } 3.15 rem 和 em rem 是根据根节点的字体大小比例调整 em 是根据父节点的字体大小进行比例调整 rem 经常被用于移动端响应式的布局，原理是通过 媒体查询 或 flexible.js，在屏幕尺寸发生变化时，改变 html 元素的字体大小。也可以和 vw、vh 配合使用，用 vw 设置 html 根元素字体大小，当窗口大小改变时实现自适应改变字体大小。\n3.16 清除浮动 结尾插入空标签或 br，添加 clear: both 父级盒子定义 overflow: hidden 父级盒子 display: table after 伪元素清除浮动 1 2 3 4 5 6 7 8 9 10 11 12 .clearfix:after { content: \"\"; display: block; height: 0; clear: both; visibility: hidden; } /* IE6、7 专有 */ .clearfix { *zoom: 1; } before 和 after 双伪元素清除浮动 1 2 3 4 5 6 7 8 9 10 11 12 13 .clearfix:before, .clearfix:after { content: \"\"; display: table; } .clearfix:after { clear: both; } .clearfix { *zoom: 1; } 3.17 元素消失 visibility: hidden opacity: 0 display: none 前两个元素存在但不显示，后面这个元素不渲染，不保留位置\n3.18 position 属性值有 static | relative | fixed | absolute | sticky | inherit\nstatic 和 relative 不脱离文档流，relative 用于定位偏移的位置也作为空间保留\nfixed 和 absolute 脱离文档流，absolute 用于定位父元素不受影响，fixed 是相对于浏览器窗口进行定位\n4. Vue 4.1 MVC 和 MVVM MVC 在 Controller 中响应用户对 View 的事件，Controller 调用 Model 的接口对数据进行操作，一旦 Model 发生变化 Model 就通知相关视图进行更新\nModel：数据和数据的处理方法 View：视图，负责对数据的展示 Controller：定义界面对用户输入的响应方式，连接模型和视图，用于控制应用程序的流程，处理用户的行为和数据上的改变 MVVM mvvm 把 view 和 model 的同步逻辑自动化，只需要告诉 view 的显示内容与 model 哪一部分对应即可。采用双向绑定。\nModel：数据和数据的处理方法 View：视图，负责对数据的展示 ViewModel：View 的变动，自动反映在 ViewModel 4.2 生命周期 Vue 有完整的生命周期，创建 -\u003e 挂载 -\u003e 更新 -\u003e 销毁\nbeforeCreated\n开始创建数据，只有默认的生命周期钩子和默认事件，data 和 methods 还没有初始化 Created\ndata 有了，可以访问数据和方法，但没有挂载到 DOM，可以操作数据 beforeMount\n挂载之前，编译好了，但还没有挂载到页面上 Mounted\n到此创建完成了，可以进行 DOM 操作了 beforeUpdate\ndata 中数据已经更新了，但还没有更新到页面上，页面上还是旧的数据 Updated\n页面上的数据被更新了，页面和 data 中数据一致了 beforeDestroy\n销毁之前，适合销毁定时器等 Destroyed\n所有的数据、方法、过滤器、指令都不可用了，组件已经被销毁了 4.3 双向绑定 Object.defineProperty Object.defineProperty 进行数据劫持，遍历所有的属性给它们增加 getter 和 setter，组件的 data 发生变化时，将变化发布给订阅者，订阅者收到消息后进行处理\n缺点：\n无法监听数组通过下标改变对应数据 无法对新增加或删除的属性进行监听，需要使用 Vue.set() 一次性递归到底开销很大 Proxy 使用 ES6 提供的 Proxy 进行数据拦截，劫持整个对象，然后返回一个新对象\n解决无法监听新增属性或删除属性的响应式问题、解决无法监听数组长度和 index 变化问题。\n4.4 Vue3新特性 proxy 代替 Object.defineProperty 优化 diff 算法 生命周期不同了 Vue3 使用组合式 API 支持 TS 4.5 路由 history 美观但兼容性略差，部署上线可能会出现 404 问题。\n解决方法：使用 node 的 connect-history 中间件\nhash 哈希模式 # 后面的路径不发送给服务器，不太美观，有可能被 APP 标记为不合法，但兼容性好。\n4.6 路由守卫 作用：保护路由的安全，权限问题\n全局路由守卫 分为beforeEach、beforeResolve、afterEach\n使用：全局前置路由守卫beforeEach 进行权限校验\n独享路由守卫 只有前置守卫beforeEnter，是在路由配置页面单独给路由配置的一个守卫\n使用：不同的路由重用守卫，beforeEnter 守卫只在进入路由时触发\n组件内路由守卫 分为进入守卫和离开守卫beforeRouteEnter、beforeRouteLeave、beforeRouteUpdate\n使用：\nbeforeRouteLeave：离开页面时弹出提示窗口，清除当前组件中的定时器等；关闭页面时, 将公用信息保存到 session 或 Vuex 中；当前页面中有未关闭的窗口或未保存的内容阻止页面跳转 beforeRouteUpdate：动态路由跳转 4.7 Vuex 用于集中式管理数据，一般用于大中型应用\nstate：记录数据状态 getters：获取数据，可以根据 state 中的数据进行过滤派生出一些新的数据 action：进行异步操作 mutations：唯一可以改变 state 中数据的方法 module：如果数据较多可以分模块 4.8 nextTick Vue在更新数据时是异步执行的，data 中数据更新了但页面还没来得及更新，所以如果立刻获取 DOM，获取到的是还没有更新的 DOM，nextTick 就是等数据更新之后再进行 DOM 操作。本质是返回一个 Promise\n4.9 Diff算法 Diff 算法用来找出虚拟 DOM 中被改变的部分，然后针对原生 DOM 进行渲染，不用改变所有节点重新渲染整个页面\n比较方式\n同层比较：两个树的完全的 diff 算法是一个时间复杂度为 O(n^3) 的问题。但是在前端当中，你很少会跨越层级地移动 DOM 元素。所以 Virtual DOM 只会对同一个层级的元素进行对比，这样算法复杂度就可以达到 O(n)。 深度优先：在实际的代码中，会对新旧两棵树进行一个深度优先的遍历，这样每个节点都会有一个唯一的标记。在深度优先遍历的时候，每遍历到一个节点就把该节点和新的的树进行对比。如果有差异的话就记录到一个对象里面。 4.10 组件间通信 父传子：props 子传父：$emit, $on 任意组件间 vuex eventbus：使用方法是创建一个新的Vue实例，需要通信的组件都引入该Vue实例，传递数据的组件使用 event.$emit('名称',参数) 发送数据，接收数据的组件使用 event.$on('名称',方法) 接收数据 订阅发布模式 4.11 keep-alive 用 标签对需要缓存的组件进行包裹，保存内存中组件的状态，进行缓存，防止重新加载 DOM，减少加载时间，提高性能。\n多了两个生命周期：activated、deactivated，分别在进入和退出时触发。\n属性：\ninclude：缓存包含哪些组件 exclude：缓存不包含哪些组件 max：最多保存的组件数 4.12 v-if 和 v-show v-if 一开始不渲染，不在 DOM 树中，节点要显示出来才开始渲染，渲染一次消耗很大 v-show 一开始渲染好了只是不显示，适用于隐藏显示操作频繁的情况 4.13 为什么 data 不能是一个对象而是一个匿名函数？ JS 中对象是引用类型的数据，而在 Vue 的组件中，我们更多考虑的是组件的复用，所以每个 data 都要有自己独立的存储空间，这样组件之间才不会相互干扰。所以组件中要写成函数的形式，数据以函数的返回值定义，这样每次复用组件的时候就会返回新的 data。\n4.14 为什么 v-for 和 v-if 不要一起使用？ v-for 的优先级比 v-if 更高，如果放在一起使用，就算只需要渲染一小部分 v-if，每次 v-for 的计算也都会执行一遍所有的 v-if，造成不必要的计算，影响性能。\n5. Webpack 入口和出口 配置入口和出口文件\n1 2 3 4 5 6 7 8 9 var path =require('path') module.exports = { entry: './src/index.js', output: { path: path.resolve(__dirname, 'dist'), filename: 'main.js' }, }; 多个入口文件的配置\n多 -\u003e 一\n1 2 3 4 5 6 7 8 var path =require('path') module.exports = { entry: ['./src/a.js', './src/b.js'], output: { path: path.resolve(__dirname, 'dist'), filename: 'main.js' }, }; 多 -\u003e 多\n1 2 3 4 5 6 7 8 9 10 var path =require('path') module.exports = { entry: { a: './src/a.js', b: './src/b.js' }, output: { path: path.resolve(__dirname, 'dist'), }, }; loader loader 让 webpack 可以处理除了 js 文件和 JSON 文件以外的其他类型的文件，将它们转换为有效模块\nloader 有两个属性：\ntest 识别出需要进行转换的文件 use 定义在进行转换时用哪个 loader 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 var path =require('path') module.exports = { entry: './src/index.js', output: { path: path.resolve(__dirname, 'dist'), filename: 'main.js' }, module: { rules: [{ test: /\\.txt\u0026/, use: ['style-loader', 'css-loader'] }] } }; 插件 plugin html-webpack-plugin\n1 2 3 4 5 6 7 8 9 var HTMLWebpackPlugin = require('html-webpack-plugin') module.exports = { plugins: [ new HTMLWebpackPlugin({ template: './src/index.html', filename: 'index.html' }) ] } 6. 数据结构 6.1 常用的数据结构类型 参考\n数组、栈、堆、队列、链表、散列表、树、图\n6.2 二分查找 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 /** * @param {number[]} nums * @param {number} target * @return {number} */ var search = function(nums, target) { let left = 0; let right = nums.length-1; while(left \u003c= right) { let mid = left+((right-left) \u003e\u003e 1); if (nums[mid] === target) return mid; else if (nums[mid] \u003e target) { right = mid-1; } else if (nums[mid] \u003c target) { left = mid+1; } } return -1; }; 6.3 排序 冒泡排序 从第一个元素开始，把当前元素和下一个索引元素进行比较。如果当前元素大，那么就交换位置，重复操作直到比较到最后一个元素，那么此时最后一个元素就是该数组中最大的数。下一轮重复以上操作，但是此时最后一个元素已经是最大数了，所以不需要再比较最后一个元素，只需要比较到 length - 1 的位置。\n1 2 3 4 5 6 7 8 9 10 11 12 function bubble(arr) { for(let i = 0; i \u003c arr.length - 1; i++) { for(let j = 0; j \u003c arr.length; j++) { if(arr[j] \u003e arr[j+1]) { let tmp = arr[j+1]; arr[j+1] = arr[j]; arr[j] = tmp; } } } return arr; } 冒泡每次只关注一个元素，两次循环，平均时间复杂度 \\( O(n^2) \\)，空间复杂度 \\( O(1) \\)，该算法是稳定的。\n插入排序 插入排序的原理如下。第一个元素默认是已排序元素，取出下一个元素和当前元素比较，如果当前元素大就交换位置。那么此时第一个元素就是当前的最小数，所以下次取出操作从第三个元素开始，向前对比，重复之前的操作。\n1 2 3 4 5 6 7 8 9 10 11 12 function insertion(arr) { for(let i = 1; i \u003c arr.length; i++) { for(let j = i-1; j \u003e= 0; j--) { if(arr[j] \u003e arr[j+1]) { let tmp = arr[j]; arr[j] = arr[j+1]; arr[j+1] = tmp; } } } return arr; } 直接插入排序是稳定的，平均时间复杂度 \\( O(n^2) \\)，空间复杂度 \\( O(1) \\)\n选择排序 选择排序的原理如下。遍历数组，设置最小值的索引为 0，如果取出的值比当前最小值小，就替换最小值索引，遍历完成后，将第一个元素和最小值索引上的值交换。如上操作后，第一个元素就是数组中的最小值，下次遍历就可以从索引 1 开始重复上述操作。\n1 2 3 4 5 6 7 8 9 10 11 12 function selection(arr) { for(let i = 0; i \u003c arr.length; i++) { let minIndex = i; for(let j = i+1; j \u003c arr.length; j++) { minIndex = arr[j] \u003c arr[minIndex] ? j : minIndex; } let tmp = arr[minIndex]; arr[minIndex] = arr[j]; arr[j] = tmp; } return arr; } 直接选择排序不稳定，平均时间复杂度 \\( O(n^2) \\)，空间复杂度 \\( O(1) \\)\n归并排序 归并排序的原理如下：递归的将数组两两分开直到最多包含两个元素，如果为奇数会有一组只有一个元素，分别排序，然后将数组排序合并再排序，最终合并为排序好的数组。假设我有一组数组 [3, 1, 2, 8, 9, 7, 6]，中间数索引是 3，先排序数组 [3, 1, 2, 8] 。然后排序数组 [3, 1] 和 [2, 8] ，然后再排序数组 [1, 3, 2, 8] ，这样左边数组就排序完成，然后按照以上思路排序右边数组，最后将数组 [1, 2, 3, 8] 和 [6, 7, 9] 排序。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 function sort(arr) { mergeSort(arr, 0, arr.length - 1); return arr; } function mergeSort(arr, l, r) { // 递归结束条件 if(l === r) return; let mid = parseInt(left + ((right - left) \u003e\u003e 1)); mergeSort(arr, l, mid); mergeSort(arr, mid + 1, r); let tmp = []; let i = 0; let p1 = l; let p2 = mid + 1; // 将排序好的数组放入 tmp while(p1 \u003c= mid \u0026\u0026 p2 \u003c= r) { tmp[i++] = arr[p1] \u003c arr[p2] ? arr[p1++] : arr[p2++]; } while(p1 \u003c= mid) { tmp[i++] = arr[p1++]; } while(p2 \u003c= r) { tmp[i++] = arr[p2++]; } for(let i = 0; i \u003c tmp.length; i++) { arr[l + i] = tmp[i]; } return arr; } 快排 随机选取一个数组中的值作为基准值，取值与基准值对比大小，比基准值小的放数组左边，大的放右边，对比完成后将基准值和第一个比基准值大的值交换位置。然后将数组以基准值的位置分为两部分，继续递归以上操作。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 function sort(arr) { quickSort(arr, 0, arr.length - 1); return arr; } function quickSort(arr, l, r) { // 结束条件 if(l \u003e r) return; // 存储基准数 let tmp = arr[l]; let i = l; let j = r; while(i \u003c j) { // 从右边开始寻找 while(arr[j] \u003e= tmp \u0026\u0026 i \u003c j) { j--; } arr[i] = arr[j]; while(arr[i] \u003c= tmp \u0026\u0026 i \u003c j) { i++; } arr[j] = arr[i]; } arr[i] = tmp; quickSort(arr, l, i-1); quickSort(arr, i+1, r); } 几种排序方法复杂度和稳定性比较 排序方法 平均时间复杂度 空间复杂度 稳定性 冒泡排序 \\( O(n^2) \\) \\( O(1) \\) 稳定 直接插入排序 \\( O(n^2) \\) \\( O(1) \\) 稳定 直接选择排序 \\( O(n^2) \\) \\( O(1) \\) 不稳定 快速排序 \\( O(nlogn) \\) \\( O(nlogn) \\) 不稳定 归并排序 \\( O(nlogn) \\) \\( O(n) \\) 稳定 ","wordCount":"3940","inLanguage":"en","datePublished":"2022-10-30T10:35:16+08:00","dateModified":"2022-11-06T00:00:00Z","author":{"@type":"Person","name":"Silva"},"mainEntityOfPage":{"@type":"WebPage","@id":"/posts/frontend/interview-practice/"},"publisher":{"@type":"Organization","name":"Snow Cabin","logo":{"@type":"ImageObject","url":"/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href accesskey=h title="SNOW CABIN (Alt + H)"><img src=/snowman.png alt aria-label=logo height=35>SNOW CABIN</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=/archives/ title=Archive><span>Archive</span></a></li><li><a href=/categories/ title=Categories><span>Categories</span></a></li><li><a href=/tags/ title=Tags><span>Tags</span></a></li><li><a href=/about/ title=About><span>About</span></a></li></ul><div id=menu2><button onclick=done() id=guideBtn class=guideBtn><svg viewBox="0 0 100 80" width="25" height="25" fill="var(--primary)"><rect width="100" height="10" rx="2"/><rect y="30" width="100" height="10" rx="2"/><rect y="60" width="100" height="10" rx="2"/></svg></button></div><nav id=guide style=display:none><ul class=guide-ul><li><a href=/archives/ title=Archive><span>Archive</span></a></li><li><a href=/categories/ title=Categories><span>Categories</span></a></li><li><a href=/tags/ title=Tags><span>Tags</span></a></li><li><a href=/about/ title=About><span>About</span></a></li></ul></nav></nav></header><script type=text/javascript>var guideBtn=document.getElementById("guideBtn"),guide=document.getElementById("guide");function done(){guide.style.display=="none"?guide.style.display="block":guide.style.display="none"}</script><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href>Home</a>
&nbsp; > &nbsp;<a href=/posts/>Posts</a>
&nbsp; > &nbsp;<a href=/posts/frontend/>Frontend</a></div><h1 class=post-title>期末知识点复习</h1><div class=post-meta><span title='2022-10-30 10:35:16 +0800 CST'>October 30, 2022</span>&nbsp;&nbsp;<span>[LastMod:&nbsp;November 6, 2022]</span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-%e8%ae%a1%e7%ae%97%e6%9c%ba%e5%8e%9f%e7%90%86 aria-label="1. 计算机原理">1. 计算机原理</a><ul><li><a href=#11-%e8%be%93%e5%85%a5-url-%e5%88%b0%e6%b8%b2%e6%9f%93%e5%ae%8c%e6%88%90%e7%9a%84%e6%95%b4%e4%b8%aa%e8%bf%87%e7%a8%8b aria-label="1.1 输入 URL 到渲染完成的整个过程">1.1 输入 URL 到渲染完成的整个过程</a></li><li><a href=#12-tcp-%e4%b8%89%e6%ac%a1%e6%8f%a1%e6%89%8b%e5%92%8c%e5%9b%9b%e6%ac%a1%e6%8c%a5%e6%89%8b aria-label="1.2 TCP 三次握手和四次挥手">1.2 TCP 三次握手和四次挥手</a><ul><li><a href=#tcp-%e4%b8%89%e6%ac%a1%e6%8f%a1%e6%89%8b aria-label="TCP 三次握手">TCP 三次握手</a></li><li><a href=#%e4%b8%ba%e4%bb%80%e4%b9%88%e6%98%af%e4%b8%89%e6%ac%a1%e6%8f%a1%e6%89%8b aria-label=为什么是三次握手？>为什么是三次握手？</a></li><li><a href=#tcp-%e5%9b%9b%e6%ac%a1%e6%8c%a5%e6%89%8b aria-label="TCP 四次挥手">TCP 四次挥手</a></li><li><a href=#%e4%b8%ba%e4%bb%80%e4%b9%88%e6%98%af%e5%9b%9b%e6%ac%a1%e6%8c%a5%e6%89%8b aria-label=为什么是四次挥手？>为什么是四次挥手？</a></li></ul></li><li><a href=#13-tcp-%e5%92%8c-udp-%e7%9a%84%e5%8c%ba%e5%88%ab aria-label="1.3 TCP 和 UDP 的区别">1.3 TCP 和 UDP 的区别</a></li><li><a href=#14-http-%e5%92%8c-https aria-label="1.4 HTTP 和 HTTPS">1.4 HTTP 和 HTTPS</a><ul><li><a href=#http-%e5%92%8c-https-%e7%9a%84%e5%8c%ba%e5%88%ab aria-label="HTTP 和 HTTPS 的区别">HTTP 和 HTTPS 的区别</a></li><li><a href=#%e7%8a%b6%e6%80%81%e7%a0%81 aria-label=状态码>状态码</a></li></ul></li><li><a href=#15-%e7%94%a8%e6%88%b7%e7%99%bb%e5%bd%95%e8%ae%a4%e8%af%81 aria-label="1.5 用户登录认证">1.5 用户登录认证</a><ul><li><a href=#cookie-%e5%92%8c-session aria-label="Cookie 和 Session">Cookie 和 Session</a></li><li><a href=#token aria-label=Token>Token</a></li></ul></li><li><a href=#16-%e6%b5%8f%e8%a7%88%e5%99%a8%e7%bc%93%e5%ad%98 aria-label="1.6 浏览器缓存">1.6 浏览器缓存</a><ul><li><a href=#%e5%bc%ba%e7%bc%93%e5%ad%98 aria-label=强缓存>强缓存</a></li><li><a href=#%e5%8d%8f%e5%95%86%e7%bc%93%e5%ad%98 aria-label=协商缓存>协商缓存</a></li></ul></li><li><a href=#17-%e6%b5%8f%e8%a7%88%e5%99%a8%e6%9c%ac%e5%9c%b0%e5%ad%98%e5%82%a8%e6%96%b9%e5%bc%8f-cookielocalstorage-%e5%92%8c-sessionstorage aria-label="1.7 浏览器本地存储方式 cookie、localStorage 和 sessionStorage">1.7 浏览器本地存储方式 cookie、localStorage 和 sessionStorage</a></li><li><a href=#18-%e5%ae%89%e5%85%a8%e6%94%bb%e5%87%bb aria-label="1.8 安全攻击">1.8 安全攻击</a><ul><li><a href=#csrf aria-label=CSRF>CSRF</a></li><li><a href=#xss aria-label=XSS>XSS</a></li></ul></li><li><a href=#19-%e5%89%8d%e7%ab%af%e4%bc%98%e5%8c%96 aria-label="1.9 前端优化">1.9 前端优化</a><ul><li><a href=#seo%e6%96%b9%e6%b3%95 aria-label=SEO方法>SEO方法</a></li><li><a href=#%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96 aria-label=性能优化>性能优化</a><ul><li><a href=#%e5%9b%be%e7%89%87%e6%87%92%e5%8a%a0%e8%bd%bd aria-label=图片懒加载>图片懒加载</a></li><li><a href=#%e8%b7%af%e7%94%b1%e6%87%92%e5%8a%a0%e8%bd%bd aria-label=路由懒加载>路由懒加载</a></li><li><a href=#%e6%9c%8d%e5%8a%a1%e7%ab%af%e6%b8%b2%e6%9f%93-ssr aria-label="服务端渲染 SSR">服务端渲染 SSR</a></li></ul></li></ul></li><li><a href=#110-axios aria-label="1.10 axios">1.10 axios</a><ul><ul><li><a href=#axios-%e6%8b%a6%e6%88%aa%e5%99%a8 aria-label="axios 拦截器">axios 拦截器</a></li></ul></ul></li><li><a href=#111-%e8%b7%a8%e5%9f%9f%e6%96%b9%e6%b3%95 aria-label="1.11 跨域方法">1.11 跨域方法</a></li><li><a href=#112-%e5%89%8d%e5%90%8e%e7%ab%af%e5%ae%9e%e6%97%b6%e9%80%9a%e4%bf%a1 aria-label="1.12 前后端实时通信">1.12 前后端实时通信</a></li><li><a href=#113-%e4%b8%bb%e6%b5%81%e6%b5%8f%e8%a7%88%e5%99%a8 aria-label="1.13 主流浏览器">1.13 主流浏览器</a></li><li><a href=#114-get-%e5%92%8c-post-%e8%af%b7%e6%b1%82%e7%9a%84%e5%8c%ba%e5%88%ab aria-label="1.14 get 和 post 请求的区别">1.14 get 和 post 请求的区别</a></li></ul></li><li><a href=#2-js aria-label="2. JS">2. JS</a><ul><li><a href=#21-%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b aria-label="2.1 数据类型">2.1 数据类型</a><ul><li><a href=#%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b aria-label=数据类型>数据类型</a></li><li><a href=#null-%e5%92%8c-undefined-%e7%9a%84%e5%8c%ba%e5%88%ab aria-label="null 和 undefined 的区别">null 和 undefined 的区别</a></li></ul></li><li><a href=#22-%e6%96%b9%e6%b3%95 aria-label="2.2 方法">2.2 方法</a><ul><li><a href=#%e5%88%a4%e6%96%ad%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b%e7%9a%84%e6%96%b9%e6%b3%95 aria-label=判断数据类型的方法>判断数据类型的方法</a></li><li><a href=#%e6%95%b0%e7%bb%84%e6%96%b9%e6%b3%95 aria-label=数组方法>数组方法</a><ul><li><a href=#%e6%95%b0%e7%bb%84%e5%8e%bb%e9%87%8d aria-label=数组去重>数组去重</a></li><li><a href=#%e7%bf%bb%e8%bd%ac%e5%ad%97%e7%ac%a6%e4%b8%b2 aria-label=翻转字符串>翻转字符串</a></li></ul></li><li><a href=#map-%e5%92%8c-foreach aria-label="map 和 forEach">map 和 forEach</a></li><li><a href=#forof-%e5%92%8c-forin aria-label="for&amp;hellip;of 和 for&amp;hellip;in">for&mldr;of 和 for&mldr;in</a></li><li><a href=#%e6%89%a9%e5%b1%95%e7%ac%a6 aria-label=&amp;hellip;扩展符>&mldr;扩展符</a></li></ul></li><li><a href=#23-%e5%bc%82%e6%ad%a5%e6%96%b9%e6%b3%95 aria-label="2.3 异步方法">2.3 异步方法</a><ul><li><a href=#promise aria-label=Promise>Promise</a><ul><li><a href=#%e5%ae%9e%e7%8e%b0-promise aria-label="实现 Promise">实现 Promise</a></li><li><a href=#%e5%ae%9e%e7%8e%b0-promisethen aria-label="实现 Promise.then">实现 Promise.then</a></li><li><a href=#%e5%ae%9e%e7%8e%b0-promiseall aria-label="实现 Promise.all">实现 Promise.all</a></li></ul></li></ul></li><li><a href=#24-%e5%8e%9f%e5%9e%8b%e5%8f%8a%e5%8e%9f%e5%9e%8b%e9%93%be aria-label="2.4 原型及原型链">2.4 原型及原型链</a></li><li><a href=#25-es6-%e6%96%b0%e7%89%b9%e6%80%a7 aria-label="2.5 ES6 新特性">2.5 ES6 新特性</a><ul><li><a href=#%e7%b1%bb aria-label=类>类</a></li><li><a href=#%e7%ae%ad%e5%a4%b4%e5%87%bd%e6%95%b0 aria-label=箭头函数>箭头函数</a></li><li><a href=#letconst-%e5%92%8c-var-%e7%9a%84%e5%8c%ba%e5%88%ab aria-label="let、const 和 var 的区别">let、const 和 var 的区别</a></li></ul></li><li><a href=#26-new aria-label="2.6 New">2.6 New</a></li><li><a href=#27-%e9%97%ad%e5%8c%85 aria-label="2.7 闭包">2.7 闭包</a></li><li><a href=#28-%e4%ba%8b%e4%bb%b6%e5%be%aa%e7%8e%af aria-label="2.8 事件循环">2.8 事件循环</a></li><li><a href=#29-%e4%ba%8b%e4%bb%b6%e5%a7%94%e6%89%98 aria-label="2.9 事件委托">2.9 事件委托</a></li><li><a href=#210-%e6%b7%b1%e6%8b%b7%e8%b4%9d%e5%92%8c%e6%b5%85%e6%8b%b7%e8%b4%9d aria-label="2.10 深拷贝和浅拷贝">2.10 深拷贝和浅拷贝</a></li><li><a href=#211-bind-apply-%e5%92%8c-call aria-label="2.11 bind, apply 和 call">2.11 bind, apply 和 call</a><ul><li><a href=#%e5%ae%9e%e7%8e%b0-apply aria-label="实现 apply">实现 apply</a></li><li><a href=#%e5%ae%9e%e7%8e%b0-bind aria-label="实现 bind">实现 bind</a></li></ul></li><li><a href=#212-%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6 aria-label="2.12 垃圾回收">2.12 垃圾回收</a><ul><li><a href=#%e5%bc%95%e7%94%a8%e8%ae%a1%e6%95%b0 aria-label=引用计数>引用计数</a></li><li><a href=#%e6%a0%87%e8%ae%b0%e6%b8%85%e9%99%a4 aria-label=标记清除>标记清除</a></li></ul></li><li><a href=#213-%e9%98%b2%e6%8a%96%e8%8a%82%e6%b5%81 aria-label="2.13 防抖节流">2.13 防抖节流</a><ul><li><a href=#%e9%98%b2%e6%8a%96 aria-label=防抖>防抖</a></li><li><a href=#%e8%8a%82%e6%b5%81 aria-label=节流>节流</a></li></ul></li><li><a href=#214-%e5%87%bd%e6%95%b0%e6%9f%af%e9%87%8c%e5%8c%96 aria-label="2.14 函数柯里化">2.14 函数柯里化</a></li><li><a href=#215-%e8%af%b7%e6%b1%82%e6%96%b9%e5%bc%8f aria-label="2.15 请求方式">2.15 请求方式</a><ul><li><a href=#fetch-%e8%af%b7%e6%b1%82 aria-label="fetch 请求">fetch 请求</a></li><li><a href=#ajax-%e8%af%b7%e6%b1%82 aria-label="ajax 请求">ajax 请求</a></li></ul></li><li><a href=#216-%e7%bb%a7%e6%89%bf aria-label="2.16 继承">2.16 继承</a></li><li><a href=#217-%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f aria-label="2.17 设计模式">2.17 设计模式</a><ul><li><a href=#%e5%88%9b%e5%bb%ba%e5%9e%8b aria-label=创建型>创建型</a></li><li><a href=#%e7%bb%93%e6%9e%84%e5%9e%8b aria-label=结构型>结构型</a></li><li><a href=#%e8%a1%8c%e4%b8%ba%e5%9e%8b aria-label=行为型>行为型</a></li></ul></li></ul></li><li><a href=#3-html-%e5%92%8c-css aria-label="3. HTML 和 CSS">3. HTML 和 CSS</a><ul><li><a href=#31-html5%e6%96%b0%e7%89%b9%e6%80%a7 aria-label="3.1 HTML5新特性">3.1 HTML5新特性</a><ul><li><a href=#%e5%a2%9e%e5%8a%a0%e7%9a%84%e7%89%b9%e6%80%a7 aria-label=增加的特性>增加的特性</a></li><li><a href=#%e7%a7%bb%e9%99%a4%e7%9a%84%e5%85%83%e7%b4%a0 aria-label=移除的元素>移除的元素</a></li></ul></li><li><a href=#32-html-%e8%af%ad%e4%b9%89%e5%8c%96 aria-label="3.2 HTML 语义化">3.2 HTML 语义化</a></li><li><a href=#33-html-%e4%b8%ad-title-%e5%b1%9e%e6%80%a7%e5%92%8c-alt-%e5%b1%9e%e6%80%a7%e7%9a%84%e5%8c%ba%e5%88%ab aria-label="3.3 HTML 中 title 属性和 alt 属性的区别">3.3 HTML 中 title 属性和 alt 属性的区别</a></li><li><a href=#34-%e9%87%8d%e7%bb%98%e5%92%8c%e9%87%8d%e6%8e%92 aria-label="3.4 重绘和重排">3.4 重绘和重排</a><ul><li><a href=#%e9%87%8d%e7%bb%98-repaint aria-label="重绘 (repaint)">重绘 (repaint)</a></li><li><a href=#%e9%87%8d%e6%8e%92%e5%9b%9e%e6%b5%81-reflow aria-label="重排/回流 (reflow)">重排/回流 (reflow)</a></li><li><a href=#%e5%a6%82%e4%bd%95%e9%81%bf%e5%85%8d%e9%87%8d%e7%bb%98%e9%87%8d%e6%8e%92 aria-label=如何避免重绘重排>如何避免重绘重排</a></li></ul></li><li><a href=#35-bfc aria-label="3.5 BFC">3.5 BFC</a></li><li><a href=#36-css3-%e6%96%b0%e7%89%b9%e6%80%a7 aria-label="3.6 CSS3 新特性">3.6 CSS3 新特性</a></li><li><a href=#37-%e7%9b%92%e5%ad%90%e6%a8%a1%e5%9e%8b aria-label="3.7 盒子模型">3.7 盒子模型</a></li><li><a href=#38-%e6%b0%b4%e5%b9%b3%e5%9e%82%e7%9b%b4%e5%b1%85%e4%b8%ad aria-label="3.8 水平垂直居中">3.8 水平垂直居中</a></li><li><a href=#39-%e7%94%bb%e4%b8%80%e4%b8%aa%e4%b8%89%e8%a7%92%e5%bd%a2 aria-label="3.9 画一个三角形">3.9 画一个三角形</a></li><li><a href=#310-%e4%b8%89%e6%a0%8f%e5%b8%83%e5%b1%80 aria-label="3.10 三栏布局">3.10 三栏布局</a><ul><li><a href=#%e5%9c%a3%e6%9d%af%e5%b8%83%e5%b1%80 aria-label=圣杯布局>圣杯布局</a></li><li><a href=#%e5%8f%8c%e9%a3%9e%e7%bf%bc%e5%b8%83%e5%b1%80 aria-label=双飞翼布局>双飞翼布局</a></li></ul></li><li><a href=#311-link-%e5%92%8c-import-%e7%9a%84%e5%8c%ba%e5%88%ab aria-label="3.11 link 和 @import 的区别">3.11 link 和 @import 的区别</a></li><li><a href=#312-%e9%9b%aa%e7%a2%a7%e5%9b%be aria-label="3.12 雪碧图">3.12 雪碧图</a></li><li><a href=#313-%e4%bc%aa%e7%b1%bb%e5%92%8c%e4%bc%aa%e5%85%83%e7%b4%a0 aria-label="3.13 伪类和伪元素">3.13 伪类和伪元素</a></li><li><a href=#314-flex%e5%b8%83%e5%b1%80 aria-label="3.14 flex布局">3.14 flex布局</a></li><li><a href=#315-rem-%e5%92%8c-em aria-label="3.15 rem 和 em">3.15 rem 和 em</a></li><li><a href=#316-%e6%b8%85%e9%99%a4%e6%b5%ae%e5%8a%a8 aria-label="3.16 清除浮动">3.16 清除浮动</a></li><li><a href=#317-%e5%85%83%e7%b4%a0%e6%b6%88%e5%a4%b1 aria-label="3.17 元素消失">3.17 元素消失</a></li><li><a href=#318-position aria-label="3.18 position">3.18 position</a></li></ul></li><li><a href=#4-vue aria-label="4. Vue">4. Vue</a><ul><li><a href=#41-mvc-%e5%92%8c-mvvm aria-label="4.1 MVC 和 MVVM">4.1 MVC 和 MVVM</a><ul><li><a href=#mvc aria-label=MVC>MVC</a></li><li><a href=#mvvm aria-label=MVVM>MVVM</a></li></ul></li><li><a href=#42-%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f aria-label="4.2 生命周期">4.2 生命周期</a></li><li><a href=#43-%e5%8f%8c%e5%90%91%e7%bb%91%e5%ae%9a aria-label="4.3 双向绑定">4.3 双向绑定</a><ul><li><a href=#objectdefineproperty aria-label=Object.defineProperty>Object.defineProperty</a></li><li><a href=#proxy aria-label=Proxy>Proxy</a></li></ul></li><li><a href=#44-vue3%e6%96%b0%e7%89%b9%e6%80%a7 aria-label="4.4 Vue3新特性">4.4 Vue3新特性</a></li><li><a href=#45-%e8%b7%af%e7%94%b1 aria-label="4.5 路由">4.5 路由</a><ul><li><a href=#history aria-label=history>history</a></li><li><a href=#hash aria-label=hash>hash</a></li></ul></li><li><a href=#46-%e8%b7%af%e7%94%b1%e5%ae%88%e5%8d%ab aria-label="4.6 路由守卫">4.6 路由守卫</a><ul><li><a href=#%e5%85%a8%e5%b1%80%e8%b7%af%e7%94%b1%e5%ae%88%e5%8d%ab aria-label=全局路由守卫>全局路由守卫</a></li><li><a href=#%e7%8b%ac%e4%ba%ab%e8%b7%af%e7%94%b1%e5%ae%88%e5%8d%ab aria-label=独享路由守卫>独享路由守卫</a></li><li><a href=#%e7%bb%84%e4%bb%b6%e5%86%85%e8%b7%af%e7%94%b1%e5%ae%88%e5%8d%ab aria-label=组件内路由守卫>组件内路由守卫</a></li></ul></li><li><a href=#47-vuex aria-label="4.7 Vuex">4.7 Vuex</a></li><li><a href=#48-nexttick aria-label="4.8 nextTick">4.8 nextTick</a></li><li><a href=#49-diff%e7%ae%97%e6%b3%95 aria-label="4.9 Diff算法">4.9 Diff算法</a></li><li><a href=#410-%e7%bb%84%e4%bb%b6%e9%97%b4%e9%80%9a%e4%bf%a1 aria-label="4.10 组件间通信">4.10 组件间通信</a></li><li><a href=#411-keep-alive aria-label="4.11 keep-alive">4.11 keep-alive</a></li><li><a href=#412-v-if-%e5%92%8c-v-show aria-label="4.12 v-if 和 v-show">4.12 v-if 和 v-show</a></li><li><a href=#413-%e4%b8%ba%e4%bb%80%e4%b9%88-data-%e4%b8%8d%e8%83%bd%e6%98%af%e4%b8%80%e4%b8%aa%e5%af%b9%e8%b1%a1%e8%80%8c%e6%98%af%e4%b8%80%e4%b8%aa%e5%8c%bf%e5%90%8d%e5%87%bd%e6%95%b0 aria-label="4.13 为什么 data 不能是一个对象而是一个匿名函数？">4.13 为什么 data 不能是一个对象而是一个匿名函数？</a></li><li><a href=#414-%e4%b8%ba%e4%bb%80%e4%b9%88-v-for-%e5%92%8c-v-if-%e4%b8%8d%e8%a6%81%e4%b8%80%e8%b5%b7%e4%bd%bf%e7%94%a8 aria-label="4.14 为什么 v-for 和 v-if 不要一起使用？">4.14 为什么 v-for 和 v-if 不要一起使用？</a></li></ul></li><li><a href=#5-webpack aria-label="5. Webpack">5. Webpack</a><ul><li><a href=#%e5%85%a5%e5%8f%a3%e5%92%8c%e5%87%ba%e5%8f%a3 aria-label=入口和出口>入口和出口</a></li><li><a href=#loader aria-label=loader>loader</a></li><li><a href=#%e6%8f%92%e4%bb%b6-plugin aria-label="插件 plugin">插件 plugin</a></li></ul></li><li><a href=#6-%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84 aria-label="6. 数据结构">6. 数据结构</a><ul><li><a href=#61-%e5%b8%b8%e7%94%a8%e7%9a%84%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84%e7%b1%bb%e5%9e%8b aria-label="6.1 常用的数据结构类型">6.1 常用的数据结构类型</a></li><li><a href=#62-%e4%ba%8c%e5%88%86%e6%9f%a5%e6%89%be aria-label="6.2 二分查找">6.2 二分查找</a></li><li><a href=#63-%e6%8e%92%e5%ba%8f aria-label="6.3 排序">6.3 排序</a><ul><li><a href=#%e5%86%92%e6%b3%a1%e6%8e%92%e5%ba%8f aria-label=冒泡排序>冒泡排序</a></li><li><a href=#%e6%8f%92%e5%85%a5%e6%8e%92%e5%ba%8f aria-label=插入排序>插入排序</a></li><li><a href=#%e9%80%89%e6%8b%a9%e6%8e%92%e5%ba%8f aria-label=选择排序>选择排序</a></li><li><a href=#%e5%bd%92%e5%b9%b6%e6%8e%92%e5%ba%8f aria-label=归并排序>归并排序</a></li><li><a href=#%e5%bf%ab%e6%8e%92 aria-label=快排>快排</a></li><li><a href=#%e5%87%a0%e7%a7%8d%e6%8e%92%e5%ba%8f%e6%96%b9%e6%b3%95%e5%a4%8d%e6%9d%82%e5%ba%a6%e5%92%8c%e7%a8%b3%e5%ae%9a%e6%80%a7%e6%af%94%e8%be%83 aria-label=几种排序方法复杂度和稳定性比较>几种排序方法复杂度和稳定性比较</a></li></ul></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>方便反复诵读复习</p><h1 id=1-计算机原理>1. 计算机原理<a hidden class=anchor aria-hidden=true href=#1-计算机原理>#</a></h1><h2 id=11-输入-url-到渲染完成的整个过程>1.1 输入 URL 到渲染完成的整个过程<a hidden class=anchor aria-hidden=true href=#11-输入-url-到渲染完成的整个过程>#</a></h2><ol><li>根据域名递归查找地址，先查找缓存，没有则进行 DNS 解析，向域名服务器获取 IP ，返回给浏览器</li><li>建立 TCP 连接</li><li>客户端发送请求，服务端收到请求并响应</li><li>客户端接收到响应结果，得到资源文档，可能进行解压缩</li><li>解析文档构建 DOM 树和 CSSOM 树，合成 Render 树</li><li>进行布局，再渲染，呈现页面</li></ol><p><a href=https://juejin.im/post/5b9ba9c15188255c8320fe27>面试题之从敲入 URL 到浏览器渲染完成</a></p><h2 id=12-tcp-三次握手和四次挥手>1.2 TCP 三次握手和四次挥手<a hidden class=anchor aria-hidden=true href=#12-tcp-三次握手和四次挥手>#</a></h2><p><a href=https://blog.csdn.net/qq_31587111/article/details/122731287>详解TCP 三次握手和四次挥手</a></p><h3 id=tcp-三次握手>TCP 三次握手<a hidden class=anchor aria-hidden=true href=#tcp-三次握手>#</a></h3><ul><li>客户端发送 SYN 报文，初始化 ISN 序列，SYN 标识为置为一，发送后进入 SYN_SENT 状态</li><li>服务端接收后发送 SYN + ACK 报文，并把客户端发送报文的 ISN 序列号 +1 作为自己的 ACK 字段，把 ACK 和 SYN 标志位都置为 1，进入 SYN_REVD 状态</li><li>客户端接收后发送 ACK 报文，ACK 标志位置为 1，这次可以携带应用层数据，进入 ESTABLISHED 状态</li></ul><h3 id=为什么是三次握手>为什么是三次握手？<a hidden class=anchor aria-hidden=true href=#为什么是三次握手>#</a></h3><ul><li>确保序列号有效的同步</li><li>确定客户端和服务端收发正常</li><li>避免资源浪费</li></ul><h3 id=tcp-四次挥手>TCP 四次挥手<a hidden class=anchor aria-hidden=true href=#tcp-四次挥手>#</a></h3><ul><li>客户端发送 FIN 报文，进入 FIN_WAIT_1 状态</li><li>服务端收到后，发送 ACK 报文，进入 CLOSED_WAIT 状态</li><li>客户端收到报文后，进入 FIN_WAIT_2 状态</li><li>服务端处理完数据后，发送 FIN 报文，服务端进入 LAST_ACK 状态</li><li>客户端收到后，发送 ACK 报文，进入 TIME_WAIT 状态，等待 2MSL 时间后自动关闭，进入 CLOSED 状态</li><li>服务端收到 ACK 报文后，直接进入 CLOSED 状态</li></ul><h3 id=为什么是四次挥手>为什么是四次挥手？<a hidden class=anchor aria-hidden=true href=#为什么是四次挥手>#</a></h3><ul><li>确保客户端和服务端都不再接收和发送数据</li><li>服务端可能有数据要处理，所以 ACK 和 FIN 分开发送</li><li>等待 2MSL 时间是为了确保服务端收到报文信息，如果没有收到，服务端会重新发送 FIN 报文，客户端就要再次发送 ACK 报文，因此至少是一个报文来回的时间</li></ul><h2 id=13-tcp-和-udp-的区别>1.3 TCP 和 UDP 的区别<a hidden class=anchor aria-hidden=true href=#13-tcp-和-udp-的区别>#</a></h2><ul><li>TCP 面向连接传输，需要先建立连接，UDP 不需要</li><li>TCP 基于可靠性传输，UDP 保证传输速度不保证传输质量</li><li>TCP 一对一传输，UDP 可以一对一、一对多、多对多</li><li>TCP 有拥塞控制和流量控制，UDP 没有</li><li>UDP 头部长度固定，开销小</li></ul><h2 id=14-http-和-https>1.4 HTTP 和 HTTPS<a hidden class=anchor aria-hidden=true href=#14-http-和-https>#</a></h2><h3 id=http-和-https-的区别>HTTP 和 HTTPS 的区别<a hidden class=anchor aria-hidden=true href=#http-和-https-的区别>#</a></h3><ul><li>HTTPS 加入了 SSL 证书进行加密，HTTP 不用</li><li>HTTPS 更安全，更利于 SEO</li><li>HTTPS 基于传输层，HTTP 基于应用层</li><li>HTTPS 标准端口 43，HTTP 标准端口 80</li></ul><h3 id=状态码>状态码<a hidden class=anchor aria-hidden=true href=#状态码>#</a></h3><p><a href=https://zh.m.wikipedia.org/zh-hans/HTTP%E7%8A%B6%E6%80%81%E7%A0%81>参考</a></p><ul><li><p>1: 临时响应，需要继续处理消息<br>102 Processing: 处理中，通常需要很长时间才能完成请求时发送</p></li><li><p>2: 请求成功</p></li><li><p>3: 重定向<br>301 Moved Permanently: 资源（网页等）永久被移动至其他 URL，之后任何新的请求都使用新的 URL 替代</p><p>302 Found: 临时移动，客户端应使用原有 URL</p><p>304 Not Modified: 所请求的资源未修改过</p></li><li><p>4: 请求失败，客户端错误<br>400 Bad Request: 客户端请求语法错误，服务器无法理解</p><p>404 Not Found: 无法找到资源</p></li><li><p>5: 请求失败，服务端错误<br>500 Internal Server Error: 通用错误信息，服务器遇到了未曾预料到的情况，无法完成请求</p><p>502 Bad Gateway: 作为网关或者代理工作的服务器尝试执行请求时，从上游服务器接收到无效的响应</p></li></ul><h2 id=15-用户登录认证>1.5 用户登录认证<a hidden class=anchor aria-hidden=true href=#15-用户登录认证>#</a></h2><h3 id=cookie-和-session>Cookie 和 Session<a hidden class=anchor aria-hidden=true href=#cookie-和-session>#</a></h3><p>在服务端创建 Session，将 SessionId 发送给客户端保存在 Cookie 中，在以后发送请求时自动携带，服务端分解 Cookie 后验证成功将请求返回客户端。</p><p>缺点：</p><ul><li>数据都保存在服务器端，服务器有压力。</li><li>用 Cookie 不用 Session，所有数据都保存在客户端的话一旦 Cookie 被劫持，所有数据全部泄露</li></ul><h3 id=token>Token<a hidden class=anchor aria-hidden=true href=#token>#</a></h3><p>无状态令牌，用户信息被加密到 Token 中，服务端解密就能得知是哪个用户，一般保存在浏览器本地缓存中。服务器端生成 Token 后返回给客户端，客户端再次发送请求时在 headers 中添加 Token，服务端校验成功就会返回数据。</p><p>生成方式：JWT (Json Web Token)，三部分组成 header + payload + signature</p><p>优点：</p><ul><li>防止 CSRF 攻击，token 可以存放在前端任何地方，不用保存在 cookie 中，浏览器也不会自动把 token 放入 headers 里，不能通过 document.cookie 直接拿到，攻击者无法访问用户的 token</li><li>服务器端不需要存放 token，减轻服务端压力</li></ul><h2 id=16-浏览器缓存>1.6 浏览器缓存<a hidden class=anchor aria-hidden=true href=#16-浏览器缓存>#</a></h2><p>浏览器缓存将文件保存在客户端，可以减少对带宽的占用，减少响应时间，提升用户体验。</p><p>页面的缓存状态是由 http-header 字段决定的，相关的字段为 Cache-Control、Expires、Last-Modified/If-Modified-Since、Etag/If-None-Match。</p><p>大致分为协商缓存和强缓存。</p><h3 id=强缓存>强缓存<a hidden class=anchor aria-hidden=true href=#强缓存>#</a></h3><p>Cache-Control：</p><ul><li>设置 max-age，设定时间内可以直接从本地缓存中读取文件并加载</li><li>public/private，设置缓存能否在用户间共享</li><li>no-cache， 不进行缓存</li></ul><p>Expires：
设置页面过期的时间，过期时间内可以直接读取缓存</p><h3 id=协商缓存>协商缓存<a hidden class=anchor aria-hidden=true href=#协商缓存>#</a></h3><p>协商缓存有两组字段：Last-Modified/If-Modified-Since 和 Etag/If-None-Match，其中 Etag 优先级更高。</p><p>请求过程是检查是否命中协商缓存，如果资源无更新，返回 304 并直接读取资源，如果修改过，返回 200 并加载新资源。</p><ul><li>Last-Modified/If-Modified-Since：分别表示最后修改的时间和缓存对象最后修改时间，相互对比得出资源是否被更新</li><li>Etag/If-None-Match：hash 生成特殊标识，如果更新资源 hash 值就会改变，再缓存文件存储的字符串进行对比</li></ul><h2 id=17-浏览器本地存储方式-cookielocalstorage-和-sessionstorage>1.7 浏览器本地存储方式 cookie、localStorage 和 sessionStorage<a hidden class=anchor aria-hidden=true href=#17-浏览器本地存储方式-cookielocalstorage-和-sessionstorage>#</a></h2><p>cookie、localStorage 和 sessionStorage 都是浏览器本地缓存方式。</p><p>区别：</p><ul><li>cookie 在服务器和客户端之间来回传递，localStorage 和 sessionStorage 都是浏览器本地保存</li><li>cookie 存储空间很小，大概只有 4kb ，sessionStorage 和 localStorage 存储空间较大，大概在 5M 左右</li><li>sessionStorage 在浏览器窗口关闭时就会自动清空，localStorage 需要手动清除，cookie 在设置的有效期之内一直有效</li><li>localStorage 和 cookie 在所有同源窗口中共享，sessionStorage 换个页面就不行了</li></ul><h2 id=18-安全攻击>1.8 安全攻击<a hidden class=anchor aria-hidden=true href=#18-安全攻击>#</a></h2><h3 id=csrf>CSRF<a hidden class=anchor aria-hidden=true href=#csrf>#</a></h3><p>跨站请求伪造。伪造 cookie ，通过模仿用户行为进行操作。</p><p>防御方式：</p><ul><li>使用验证码</li><li>添加 referer 字段</li><li>使用 token 验证</li></ul><h3 id=xss>XSS<a hidden class=anchor aria-hidden=true href=#xss>#</a></h3><p>跨站脚本攻击。通过注入恶意代码，读取用户敏感信息，在用户浏览页面时进行攻击。</p><p>防御方式：</p><ul><li>开启 set-cookie: httponly，禁止 js 脚本访问 cookie</li><li>输入输出检查，对用户输入的字符进行转义</li></ul><h2 id=19-前端优化>1.9 前端优化<a hidden class=anchor aria-hidden=true href=#19-前端优化>#</a></h2><h3 id=seo方法>SEO方法<a hidden class=anchor aria-hidden=true href=#seo方法>#</a></h3><ul><li>meta标签的优化：标题、网站描述、关键词、目录、编码语种等</li><li>关键词：密度、相关度、突出性考虑</li><li>了解主要搜索引擎的检索排序方式</li><li>链接交换，其他网站链接到你的网站越多，你的网站访问量就越大</li><li>合理使用标签，使搜索网站更容易抓取内容</li></ul><h3 id=性能优化>性能优化<a hidden class=anchor aria-hidden=true href=#性能优化>#</a></h3><ul><li>内容<ul><li>减少请求</li><li>减少 DNS 查找</li><li>加载顺序 CSS 在前，JS 在后</li><li>减少 404</li></ul></li><li>服务器优化<ul><li>使用 CDN 缓存</li><li>延迟加载、预加载组件</li><li>GZip 压缩</li><li>路由懒加载、图片懒加载</li><li>使用雪碧图</li></ul></li></ul><h4 id=图片懒加载>图片懒加载<a hidden class=anchor aria-hidden=true href=#图片懒加载>#</a></h4><p><a href=https://juejin.cn/post/6961227083573886984>参考</a></p><ul><li>内联图片：将图片的 src 放在自定义的属性里面，利用 js 检查标签是否在视窗中，如果在将自定义的属性赋值给 src 属性就可以了。<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 获取所有图片
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>imgList</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelectorAll</span><span class=p>(</span><span class=s1>&#39;img&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// 用于记录当前显示到了哪一张图片
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>index</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>lazyload</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 获取浏览器视口高度,这里写在函数内部是考虑浏览器窗口大小改变的情况
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>viewPortHeight</span> <span class=o>=</span> <span class=nb>window</span><span class=p>.</span><span class=nx>innerHeight</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=nx>index</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>imgList</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 这里用可视区域高度减去图片顶部距离可视区域顶部的高度
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kr>const</span> <span class=nx>distance</span> <span class=o>=</span> <span class=nx>viewPortHeight</span> <span class=o>-</span> <span class=nx>imgList</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>getBoundingClientRect</span><span class=p>().</span><span class=nx>top</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 如果可视区域高度大于等于元素顶部距离可视区域顶部的高度，说明图片已经出现在了视口范围内
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=nx>distance</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 给图片赋值真实的src，展示图片
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>imgList</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>src</span> <span class=o>=</span> <span class=nx>imgList</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>getAttribute</span><span class=p>(</span><span class=s1>&#39;data-src&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 前i张图片已经加载完毕，下次从第i+1张开始检查是否需要显示
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>index</span> <span class=o>=</span> <span class=nx>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 再加一个节流函数
</span></span></span><span class=line><span class=cl><span class=c1>// 使用的时候挂载： window.onload = lazyload()
</span></span></span></code></pre></td></tr></table></div></div></li><li>intersection observer：要考虑兼容性</li><li>css图像：利用 background-image，当 js 检测到元素处于视窗中，加一个 class 类名引用外部图片资源</li></ul><p><a href=https://juejin.cn/post/6844904066418491406#heading-3>更全面的 js 功能实现</a></p><h4 id=路由懒加载>路由懒加载<a hidden class=anchor aria-hidden=true href=#路由懒加载>#</a></h4><p>动态导入代替静态导入</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 将
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>UserDetails</span> <span class=nx>from</span> <span class=s1>&#39;./views/UserDetails&#39;</span>
</span></span><span class=line><span class=cl><span class=c1>// 替换成
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>UserDetails</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;./views/UserDetails&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>使用 webpack（babel）分块导入，只需要使用命名 chunk，魔法注释提供 chunk name</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Users</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=cm>/* webpackChunkName: &#34;users-rights-roles&#34; */</span> <span class=s1>&#39;../components/user/Users.vue&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Rights</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=cm>/* webpackChunkName: &#34;users-rights-roles&#34; */</span> <span class=s1>&#39;../components/power/Rights.vue&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=服务端渲染-ssr>服务端渲染 SSR<a hidden class=anchor aria-hidden=true href=#服务端渲染-ssr>#</a></h4><p>服务器端生成HTML直接返回给浏览器。</p><p>实现方式：</p><ul><li>Vue + Nuxt.js</li></ul><p>优势：</p><ol><li>减少网络传输，提高传输效率</li><li>首屏渲染快</li><li>有利于 SEO，提高搜索效率</li></ol><p>缺点：</p><ol><li>不利于前后端分离，开发效率不高</li><li>占用服务器的资源</li></ol><h2 id=110-axios>1.10 axios<a hidden class=anchor aria-hidden=true href=#110-axios>#</a></h2><ul><li>axios 是一个基于 promise 的 HTTP 库，支持 promise 的所有 API</li><li>它可以拦截请求和响应</li><li>它可以转换请求数据和响应数据，并对响应回来的内容自动转换为 json 类型的数据</li><li>它安全性更高，客户端支持防御 XSRF</li></ul><h4 id=axios-拦截器>axios 拦截器<a hidden class=anchor aria-hidden=true href=#axios-拦截器>#</a></h4><p>拦截器分为请求拦截器和响应拦截器</p><p>请求拦截器用于在请求之前做处理，例如带上 token、时间戳等，响应拦截器用于接口返回之后做处理，例如判断 token 是否过期。</p><p>原理：创建一个 chn 数组，数组中保存了拦截器相应方法和 dispatchRequest，请求拦截器放到 dispatchRequest 前面，响应拦截器放到 dispatchRequest 后面，把请求拦截器和响应拦截器 forEach 放到数组中，用 promise 出队列的方式保证他们的执行顺序挨个执行。</p><h2 id=111-跨域方法>1.11 跨域方法<a hidden class=anchor aria-hidden=true href=#111-跨域方法>#</a></h2><p>同源策略：协议、域名、端口号都相同，保护浏览器免受攻击</p><ul><li>JSONP：利用 script 标签可以进行跨域请求的特性，创建一个 script 标签写入跨域请求，并通过 callback 接收响应。仅支持 get 方法</li><li>CORS：后端处理，前端写入字段 <code>Access-Control-Allow-Origin</code></li><li>Vue Proxy<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// vue.config.js/webpack.config.js 
</span></span></span><span class=line><span class=cl><span class=c1>// 优点：配置简单 
</span></span></span><span class=line><span class=cl><span class=c1>// 缺点：不能灵活控制请求是否走代理，因为都会走代理 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span><span class=o>=</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>devServer</span><span class=o>:</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>proxy</span><span class=o>:</span><span class=s1>&#39;http://xxx.xxx.xxx:5000&#39;</span> 
</span></span><span class=line><span class=cl>    <span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li>WebSocket：提供全双工、双向通信</li><li>PostMessage：HTML5 中的 API</li></ul><h2 id=112-前后端实时通信>1.12 前后端实时通信<a hidden class=anchor aria-hidden=true href=#112-前后端实时通信>#</a></h2><ul><li>轮询：客户端隔一段时间询问一次，适用于小型应用，实用性不高</li><li>长轮询：客户端询问后，服务端有新消息才返回</li><li>WebSocket：长连接，适用于微信、网络互动游戏等</li><li>iframe 流：插入一个隐藏的 iframe，利用其 src 属性在服务器和客户端之间创建一条长连接，服务器向 iframe 传输数据（通常是 HTML，内有负责插入信息的 javascript），来实时更新页面。兼容性好，但长连接会增加开销</li><li>SSE：单向通道，服务器向浏览器推送资源</li></ul><h2 id=113-主流浏览器>1.13 主流浏览器<a hidden class=anchor aria-hidden=true href=#113-主流浏览器>#</a></h2><table><thead><tr><th>浏览器</th><th>内核</th></tr></thead><tbody><tr><td>IE</td><td>Trident</td></tr><tr><td>Firefox</td><td>Gecko</td></tr><tr><td>Chrome</td><td>Blink</td></tr><tr><td>Safari</td><td>Webkit</td></tr><tr><td>Opera</td><td>Blink</td></tr></tbody></table><h2 id=114-get-和-post-请求的区别>1.14 get 和 post 请求的区别<a hidden class=anchor aria-hidden=true href=#114-get-和-post-请求的区别>#</a></h2><ul><li>get 回退是无害的，post 会再次提交请求</li><li>get 参数通过 url 进行传递，更不安全，有长度限制；post 参数放在 request body 中，更安全，没有长度限制</li><li>get 会被浏览器主动缓存保存参数，post 不会</li><li>get 产生一个 TCP 数据包，post 产生两个（在 Firefox 中只有一个）</li></ul><h1 id=2-js>2. JS<a hidden class=anchor aria-hidden=true href=#2-js>#</a></h1><h2 id=21-数据类型>2.1 数据类型<a hidden class=anchor aria-hidden=true href=#21-数据类型>#</a></h2><h3 id=数据类型>数据类型<a hidden class=anchor aria-hidden=true href=#数据类型>#</a></h3><p>Number, Object，String, Boolean, Null, Undefined, BigInt, Symbol</p><p>BigInt 和 Symbol 是 ES6 新的数据类型，Symbol 创建一个不重复的变量，可以用于 object 的 key。</p><ul><li>引用数据类型：Object，存储在堆中，栈中一个指针指向它</li><li>普通数据类型：除了 Object 以外其他的数据类型，存储在栈中</li></ul><h3 id=null-和-undefined-的区别>null 和 undefined 的区别<a hidden class=anchor aria-hidden=true href=#null-和-undefined-的区别>#</a></h3><p><a href="https://www.nowcoder.com/exam/interview/detail?questionClassifyId=0&questionId=2412346&questionJobId=156&type=1">参考</a></p><ul><li>null：表示被定义了，但是是空值，占用内存，通过 typeof 判断是 object (这是因为 typeof 通过二进制前三位判断数据类型，null 和 object 一样前三位都是 <code>000</code>)</li><li>undefined：是一个变量未赋值 或 一个函数没有返回值 或 访问一个对象不存在 或 一个函数定义了形参但没有传递实参，通过 typeof 判断是 undefined</li></ul><h2 id=22-方法>2.2 方法<a hidden class=anchor aria-hidden=true href=#22-方法>#</a></h2><h3 id=判断数据类型的方法>判断数据类型的方法<a hidden class=anchor aria-hidden=true href=#判断数据类型的方法>#</a></h3><ol><li>typeof：只能区分基本数据类型，引用数据类型除了 function 会返回 function，其余都是 object</li><li>constructor：用于引用数据类型，检测方法是获取实例的构造函数判断和某个类是否相同，如果相同就说明该数据是符合那个数据类型的，这种方法不会把原型链上的其他类也加入进来，避免了原型链的干扰。</li><li>instanceof：用于引用数据类型，检测数据类型是否在当前变量的原型链上</li><li>Object.prototype.toString.call()：适用于所有数据类型<ul><li>toString 这个方法是用于返回当前调用者的对象类型的，返回<code>[object [class]]</code></li><li>call 是为了让 Object.prototype.toString 方法指向括号内指定的数据, 否则调用者是 Objec.prototype，返回永远都是<code>[object Object]</code></li></ul></li></ol><h3 id=数组方法>数组方法<a hidden class=anchor aria-hidden=true href=#数组方法>#</a></h3><p>增删改查：push、pop、shift、unshift、concat、join、reverse、sort、map、forEach、reduce、slice、splice、forEach、filter、indexOf</p><p>改变原数组：push、pop、shift、unshift、reverse、sort、splice</p><p>不改变原数组：concat、join、filter、slice、reduce、map</p><h4 id=数组去重>数组去重<a hidden class=anchor aria-hidden=true href=#数组去重>#</a></h4><ol><li><code>Array from(new Set(array))</code></li><li><code>[...new Set(array)]</code></li><li>filter</li><li>采用对象数组方法去重<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>sort</span><span class=p>(</span><span class=nx>arr</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>obj</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>newArr</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>arr</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=nx>obj</span><span class=p>[</span><span class=nx>arr</span><span class=p>[</span><span class=nx>i</span><span class=p>]]){</span>
</span></span><span class=line><span class=cl>            <span class=nx>obj</span><span class=p>[</span><span class=nx>arr</span><span class=p>[</span><span class=nx>i</span><span class=p>]]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=nx>newArr</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>arr</span><span class=p>[</span><span class=nx>i</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>newArr</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h4 id=翻转字符串>翻转字符串<a hidden class=anchor aria-hidden=true href=#翻转字符串>#</a></h4><p>split -> reverse -> join</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>reverse</span><span class=p>(</span><span class=nx>str</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>str</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>str</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>).</span><span class=nx>reverse</span><span class=p>().</span><span class=nx>join</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=map-和-foreach>map 和 forEach<a hidden class=anchor aria-hidden=true href=#map-和-foreach>#</a></h3><ul><li>map 不改变原数组，开辟新空间，返回新数组，处理速度快</li><li>forEach 返回 undefined，改变原数组</li></ul><h3 id=forof-和-forin>for&mldr;of 和 for&mldr;in<a hidden class=anchor aria-hidden=true href=#forof-和-forin>#</a></h3><ul><li>for in 通用的对象遍历，遍历对象的 key，也包括原型链上的属性的遍历，是以任意顺序迭代对象的可枚举属性</li><li>for of 遍历的是值，遍历可迭代属性，不能直接用来遍历对象</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nb>Object</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>objCustom</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{};</span> 
</span></span><span class=line><span class=cl><span class=nb>Array</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>arrCustom</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>iterable</span> <span class=o>=</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=nx>iterable</span><span class=p>.</span><span class=nx>foo</span> <span class=o>=</span> <span class=s1>&#39;hello&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=k>in</span> <span class=nx>iterable</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span> <span class=c1>// 0, 1, 2, &#34;foo&#34;, &#34;arrCustom&#34;, &#34;objCustom&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=k>in</span> <span class=nx>iterable</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>iterable</span><span class=p>.</span><span class=nx>hasOwnProperty</span><span class=p>(</span><span class=nx>i</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span> <span class=c1>// 0, 1, 2, &#34;foo&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=k>of</span> <span class=nx>iterable</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span> <span class=c1>// logs 3, 5, 7
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=扩展符>&mldr;扩展符<a hidden class=anchor aria-hidden=true href=#扩展符>#</a></h3><p>用于取出对象中可遍历的属性，浅拷贝到当前对象中</p><h2 id=23-异步方法>2.3 异步方法<a hidden class=anchor aria-hidden=true href=#23-异步方法>#</a></h2><ul><li>回调函数</li><li>Promise</li><li>Generator：一个状态机，yield 暂停，next 下一步</li><li>Async/Await：基于 Promise 实现，看起来很像同步代码，使用上清晰明了</li></ul><h3 id=promise>Promise<a hidden class=anchor aria-hidden=true href=#promise>#</a></h3><p>三种状态：PENDING、FULFILLED、REJECTED，状态一旦改变就不会再改变了</p><p>方法:</p><ul><li>Promise.resolve(value)</li><li>Promise.reject(reason)</li><li>Promise.then：属于微任务</li><li>Promise.all：全部 Promise 成功，返回成功</li><li>Promise.any：一个 Promise 成功，返回成功</li><li>Promise.race：返回处理最快的那个的返回值，无论成功还是失败</li></ul><h4 id=实现-promise>实现 Promise<a hidden class=anchor aria-hidden=true href=#实现-promise>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 三个常量用于表示状态
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>PENDING</span> <span class=o>=</span> <span class=s1>&#39;pending&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>RESOLVED</span> <span class=o>=</span> <span class=s1>&#39;resolved&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>REJECTED</span> <span class=o>=</span> <span class=s1>&#39;rejected&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>MyPromise</span><span class=p>(</span><span class=nx>fn</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>that</span> <span class=o>=</span> <span class=k>this</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=nx>PENDING</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// value 变量用于保存 resolve 或者 reject 中传入的值
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>this</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=kc>null</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 用于保存 then 中的回调，因为当执行完 Promise 时状态可能还是等待中，这时候应该把 then 中的回调保存起来用于状态改变时使用
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>that</span><span class=p>.</span><span class=nx>resolvedCallbacks</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=nx>that</span><span class=p>.</span><span class=nx>rejectedCallbacks</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>resolve</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>         <span class=c1>// 首先两个函数都得判断当前状态是否为等待中
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span><span class=p>(</span><span class=nx>that</span><span class=p>.</span><span class=nx>state</span> <span class=o>===</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>that</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=nx>RESOLVED</span>
</span></span><span class=line><span class=cl>            <span class=nx>that</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>value</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1>// 遍历回调数组并执行
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>that</span><span class=p>.</span><span class=nx>resolvedCallbacks</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>cb</span><span class=p>=&gt;</span><span class=nx>cb</span><span class=p>(</span><span class=nx>that</span><span class=p>.</span><span class=nx>value</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>reject</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=nx>that</span><span class=p>.</span><span class=nx>state</span> <span class=o>===</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>that</span><span class=p>.</span><span class=nx>state</span> <span class=o>=</span> <span class=nx>REJECTED</span>
</span></span><span class=line><span class=cl>            <span class=nx>that</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>value</span>
</span></span><span class=line><span class=cl>            <span class=nx>that</span><span class=p>.</span><span class=nx>rejectedCallbacks</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=nx>cb</span><span class=p>=&gt;</span><span class=nx>cb</span><span class=p>(</span><span class=nx>that</span><span class=p>.</span><span class=nx>value</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 完成以上两个函数以后，我们就该实现如何执行 Promise 中传入的函数了
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>fn</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span><span class=nx>reject</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span><span class=k>catch</span><span class=p>(</span><span class=nx>e</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=实现-promisethen>实现 Promise.then<a hidden class=anchor aria-hidden=true href=#实现-promisethen>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 最后我们来实现较为复杂的 then 函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>MyPromise</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>then</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>onFulfilled</span><span class=p>,</span><span class=nx>onRejected</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>that</span> <span class=o>=</span> <span class=k>this</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// 判断两个参数是否为函数类型，因为这两个参数是可选参数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>onFulfilled</span> <span class=o>=</span> <span class=k>typeof</span> <span class=nx>onFulfilled</span> <span class=o>===</span> <span class=s1>&#39;function&#39;</span> <span class=o>?</span> <span class=nx>onFulfilled</span> <span class=o>:</span> <span class=nx>v</span> <span class=p>=&gt;</span> <span class=nx>v</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>onRejected</span> <span class=o>=</span> <span class=k>typeof</span> <span class=nx>onRejected</span> <span class=o>===</span> <span class=s1>&#39;function&#39;</span> <span class=o>?</span> <span class=nx>onRejected</span> <span class=o>:</span> <span class=nx>e</span> <span class=p>=&gt;</span> <span class=k>throw</span> <span class=nx>e</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// 当状态不是等待态时，就去执行相对应的函数。如果状态是等待态的话，就往回调函数中 push 函数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>===</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>resolvedCallbacks</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>onFulfilled</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>rejectedCallbacks</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>onRejected</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>===</span> <span class=nx>RESOLVED</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>onFulfilled</span><span class=p>(</span><span class=nx>that</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span> <span class=o>===</span> <span class=nx>REJECTED</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>onRejected</span><span class=p>(</span><span class=nx>that</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=实现-promiseall>实现 Promise.all<a hidden class=anchor aria-hidden=true href=#实现-promiseall>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 实现Promise.all()对象
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>promiseAll</span><span class=p>(</span><span class=nx>promises</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>isArray</span><span class=p>(</span><span class=nx>promises</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>reject</span><span class=p>(</span><span class=k>new</span> <span class=nx>TypeError</span><span class=p>(</span><span class=s1>&#39;arguments must be an array&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>resolvedCounter</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>promiseNum</span> <span class=o>=</span> <span class=nx>promises</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>resolvedValues</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Array</span><span class=p>(</span><span class=nx>promiseNum</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>promiseNum</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nb>Promise</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=nx>promises</span><span class=p>[</span><span class=nx>i</span><span class=p>]).</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>resolvedCounter</span><span class=o>++</span>
</span></span><span class=line><span class=cl>          <span class=nx>resolvedValues</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>=</span> <span class=nx>value</span>
</span></span><span class=line><span class=cl>          <span class=k>if</span> <span class=p>(</span><span class=nx>resolvedCounter</span> <span class=o>==</span> <span class=nx>promiseNum</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nx>resolve</span><span class=p>(</span><span class=nx>resolvedValues</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span> <span class=kd>function</span><span class=p>(</span><span class=nx>reason</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=k>return</span> <span class=nx>reject</span><span class=p>(</span><span class=nx>reason</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>})</span>
</span></span><span class=line><span class=cl>      <span class=p>})(</span><span class=nx>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=24-原型及原型链>2.4 原型及原型链<a hidden class=anchor aria-hidden=true href=#24-原型及原型链>#</a></h2><p>每个构造函数都有一个原型对象 prototype，原型有一个属性 constructor 指回构造函数，实例有一个内部指针 <code>__proto__</code> 指向原型 prototype。每个构造函数都有一个属性 prototype 指向原型对象，原型对象又有指针指向上一级原型对象，构成一条原型链，原型链的顶端是 null</p><figure><img loading=lazy src=/image/frontend/%e5%8e%9f%e5%9e%8b%e5%92%8c%e5%8e%9f%e5%9e%8b%e9%93%be.png><figcaption>实例、构造函数和原型的关系</figcaption></figure><h2 id=25-es6-新特性>2.5 ES6 新特性<a hidden class=anchor aria-hidden=true href=#25-es6-新特性>#</a></h2><ul><li>let 和 const</li><li>箭头函数</li><li>模块化导入导出 import/export</li><li>异步 promise</li><li>解构赋值</li></ul><h3 id=类>类<a hidden class=anchor aria-hidden=true href=#类>#</a></h3><p>新的语法糖结构</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Person&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>p</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>;</span> <span class=c1>// Person
</span></span></span></code></pre></td></tr></table></div></div><h3 id=箭头函数>箭头函数<a hidden class=anchor aria-hidden=true href=#箭头函数>#</a></h3><ul><li>没有 this，继承上下文的 this</li><li>不能 new，没有 arguments</li></ul><h3 id=letconst-和-var-的区别>let、const 和 var 的区别<a hidden class=anchor aria-hidden=true href=#letconst-和-var-的区别>#</a></h3><ul><li>var 有变量提升，let、const 没有变量提升</li><li>var 是函数作用域，let 和 const 是块级作用域</li><li>var 能声明多次，let 和 const 只能声明一次</li><li>const 变量声明必须赋值，一旦赋值不可更改</li></ul><h2 id=26-new>2.6 New<a hidden class=anchor aria-hidden=true href=#26-new>#</a></h2><ul><li>创造一个空对象</li><li>添加属性 <code>__proto__</code> 指向构造函数的原型对象</li><li>创建 this 上下文</li><li>返回这个函数</li></ul><h2 id=27-闭包>2.7 闭包<a hidden class=anchor aria-hidden=true href=#27-闭包>#</a></h2><p>在子函数内部调用了父函数的变量，并在函数外被引用就形成闭包。</p><p>闭包中的变量在函数运行完毕后也不会被销毁，因此如果不及时回收可能造成内存泄露。</p><p>最常用的应用是封装私有变量，通过闭包只将方法暴露在外，保证了变量的私有性。</p><h2 id=28-事件循环>2.8 事件循环<a hidden class=anchor aria-hidden=true href=#28-事件循环>#</a></h2><p>从宏任务 script 开始，按照 <code>宏任务 -> 微任务</code> 的顺序循环处理。先从上到下执行，遇到宏任务放入宏任务队列，遇到微任务放到微任务队列，执行完进入微任务队列出队列处理，然后再处理宏任务，交替进行。</p><ul><li>宏任务 (macrotask)：script、定时器（setTimeout、setTimeInterval）、I/O</li><li>微任务 (microtask)：promise 的回调、nextTick、mutationObserver</li></ul><h2 id=29-事件委托>2.9 事件委托<a hidden class=anchor aria-hidden=true href=#29-事件委托>#</a></h2><p>利用事件冒泡，把事件绑定到父元素上，当子元素发生事件时，通过冒泡触发父元素身上的事件从而做出响应。</p><p>可以避免给每个子元素绑定事件，代码冗余且要加入子元素还要再次绑定事件。</p><h2 id=210-深拷贝和浅拷贝>2.10 深拷贝和浅拷贝<a hidden class=anchor aria-hidden=true href=#210-深拷贝和浅拷贝>#</a></h2><p>浅拷贝只拷贝栈中的内容，深拷贝拷贝堆和栈中的内容。</p><p>深拷贝的方法：</p><ul><li>第三方库，例如 lodash 中的 <code>cloneDeep()</code> 方法</li><li><code>JSON.parse(JSON.stringify(obj))</code>，对于有些数据类型拷贝之后可能会丢失数据</li><li>新的方法 <code>structuredClone()</code>，但是对于 error 和 DOM 对象无法拷贝</li><li>自己写，递归拷贝<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>deepClone</span><span class=p>(</span><span class=nx>obj</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 检测是否为 Array
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>objClone</span> <span class=o>=</span> <span class=nb>Array</span><span class=p>.</span><span class=nx>isArray</span><span class=p>(</span><span class=nx>obj</span><span class=p>)</span> <span class=o>?</span> <span class=p>[]</span> <span class=o>:</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>obj</span> <span class=o>&amp;&amp;</span> <span class=k>typeof</span> <span class=nx>obj</span> <span class=o>===</span> <span class=s2>&#34;object&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=nx>key</span> <span class=k>in</span> <span class=nx>obj</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=nx>obj</span><span class=p>.</span><span class=nx>hasOwnProperty</span><span class=p>(</span><span class=nx>key</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=c1>//判断obj子元素是否为对象，如果是，递归复制
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>if</span> <span class=p>(</span><span class=nx>obj</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> <span class=o>&amp;&amp;</span> <span class=k>typeof</span> <span class=nx>obj</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> <span class=o>===</span> <span class=s2>&#34;object&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>objClone</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> <span class=o>=</span> <span class=nx>deepClone</span><span class=p>(</span><span class=nx>obj</span><span class=p>[</span><span class=nx>key</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=c1>//如果不是，简单复制
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=nx>objClone</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> <span class=o>=</span> <span class=nx>obj</span><span class=p>[</span><span class=nx>key</span><span class=p>];</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>objClone</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h2 id=211-bind-apply-和-call>2.11 bind, apply 和 call<a hidden class=anchor aria-hidden=true href=#211-bind-apply-和-call>#</a></h2><ul><li>作用都是改变 this 指向</li><li>apply 接收参数只能是一个数组，call 和 bind 接收参数要一个一个传入参数</li><li>bind 直接改变 this 指向并返回一个新函数，之后再调用 this 都指向 bind 绑定的第一个参数</li></ul><h3 id=实现-apply>实现 apply<a hidden class=anchor aria-hidden=true href=#实现-apply>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nb>Function</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>myApply</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>args</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 默认上下文为 window，不传参数就是空数组
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>context</span> <span class=o>=</span> <span class=nx>context</span> <span class=o>||</span> <span class=nx>windows</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>args</span> <span class=o>=</span> <span class=nx>args</span> <span class=o>?</span> <span class=nx>args</span> <span class=o>:</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 给 context 新增一个独一无二的属性
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// 用隐式绑定的方法调用函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// 再删除添加的属性
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>key</span> <span class=o>=</span> <span class=nx>Symbol</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> <span class=o>=</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>context</span><span class=p>[</span><span class=nx>key</span><span class=p>](...</span><span class=nx>args</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>delete</span> <span class=nx>context</span><span class=p>[</span><span class=nx>key</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>result</span><span class=p>;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=实现-bind>实现 bind<a hidden class=anchor aria-hidden=true href=#实现-bind>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nb>Function</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>myBind</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=p>...</span><span class=nx>args</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>args</span> <span class=o>=</span> <span class=nx>args</span> <span class=o>?</span> <span class=nx>args</span> <span class=o>:</span> <span class=p>[];</span> 
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>fn</span> <span class=o>=</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(..</span><span class=nx>fnArgs</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 如果是通过 new 调用的，绑定 this 为实例对象
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=k>this</span> <span class=k>instanceof</span> <span class=nx>result</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>fn</span><span class=p>.</span><span class=nx>apply</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=p>[...</span><span class=nx>args</span><span class=p>,</span> <span class=p>...</span><span class=nx>fnArgs</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span> <span class=c1>// 否则普通函数形式绑定 context
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>fn</span><span class=p>.</span><span class=nx>apply</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=p>[...</span><span class=nx>args</span><span class=p>,</span> <span class=p>...</span><span class=nx>fnArgs</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 绑定原型链
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>result</span><span class=p>.</span><span class=nx>prototype</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=nx>fn</span><span class=p>.</span><span class=nx>prototype</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=212-垃圾回收>2.12 垃圾回收<a hidden class=anchor aria-hidden=true href=#212-垃圾回收>#</a></h2><h3 id=引用计数>引用计数<a hidden class=anchor aria-hidden=true href=#引用计数>#</a></h3><p>对一个对象被引用的次数计数，引用计数为 0 则清除</p><p>可以即刻回收，计算过于复杂，效率低</p><h3 id=标记清除>标记清除<a hidden class=anchor aria-hidden=true href=#标记清除>#</a></h3><p>对所有活动的对象进行标记，清除阶段没有标记的会被清除</p><p>计算简单，但内存空间不连续，造成内存碎片</p><h2 id=213-防抖节流>2.13 防抖节流<a hidden class=anchor aria-hidden=true href=#213-防抖节流>#</a></h2><h3 id=防抖>防抖<a hidden class=anchor aria-hidden=true href=#防抖>#</a></h3><p>只认最后一次，n 秒之内又被触发则重新计时，例如按钮提交</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// fn  是我们需要包装的事件回调, delay 是每次推迟执行的等待时间
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>debounce</span><span class=p>(</span><span class=nx>fn</span><span class=p>,</span> <span class=nx>delay</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 定时器
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>let</span> <span class=nx>timer</span> <span class=o>=</span> <span class=kc>null</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 将 debounce 处理结果当作函数返回
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 保留调用时的 this 上下文
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>context</span> <span class=o>=</span> <span class=k>this</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 保留调用时传入的参数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>args</span> <span class=o>=</span> <span class=nx>arguments</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 每次事件被触发时，都去清除之前的旧定时器
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=nx>timer</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>clearTimeout</span><span class=p>(</span><span class=nx>timer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 设立新定时器
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>timer</span> <span class=o>=</span> <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>fn</span><span class=p>.</span><span class=nx>apply</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>args</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=nx>delay</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 用 debounce 来包装 scroll 的回调
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>better_scroll</span> <span class=o>=</span> <span class=nx>debounce</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;触发了滚动事件&#39;</span><span class=p>),</span> <span class=mi>1000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>document</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;scroll&#39;</span><span class=p>,</span> <span class=nx>better_scroll</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=节流>节流<a hidden class=anchor aria-hidden=true href=#节流>#</a></h3><p>只认第一次，在一定时间内只能触发一次</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// fn 是我们需要包装的事件回调, delay 是时间间隔的阈值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>throttle</span><span class=p>(</span><span class=nx>fn</span><span class=p>,</span> <span class=nx>delay</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// last 为上一次触发回调的时间
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>let</span> <span class=nx>last</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 将 throttle 处理结果当作函数返回
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 保留调用时的 this 上下文
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kd>let</span> <span class=nx>context</span> <span class=o>=</span> <span class=k>this</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 保留调用时传入的参数
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kd>let</span> <span class=nx>args</span> <span class=o>=</span> <span class=nx>arguments</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 记录本次触发回调的时间（获取时间戳）
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kd>let</span> <span class=nx>now</span> <span class=o>=</span> <span class=o>+</span><span class=k>new</span> <span class=nb>Date</span><span class=p>()</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=c1>// 判断上次触发的时间和本次触发的时间差是否小于时间间隔的阈值
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>if</span> <span class=p>(</span><span class=nx>now</span> <span class=o>-</span> <span class=nx>last</span> <span class=o>&gt;=</span> <span class=nx>delay</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=c1>// 如果时间间隔大于我们设定的时间间隔阈值，则执行回调
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nx>last</span> <span class=o>=</span> <span class=nx>now</span><span class=p>;</span>
</span></span><span class=line><span class=cl>          <span class=nx>fn</span><span class=p>.</span><span class=nx>apply</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>args</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 用 throttle 来包装 scroll 的回调
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>better_scroll</span> <span class=o>=</span> <span class=nx>throttle</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;触发了滚动事件&#39;</span><span class=p>),</span> <span class=mi>1000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>document</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;scroll&#39;</span><span class=p>,</span> <span class=nx>better_scroll</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=214-函数柯里化>2.14 函数柯里化<a hidden class=anchor aria-hidden=true href=#214-函数柯里化>#</a></h2><p>接收的多个参数转化为一个一个的参数的函数，指将一个函数从可调用的 <code>f(a, b, c)</code> 转换为可调用的 <code>f(a)(b)(c)</code>。</p><h2 id=215-请求方式>2.15 请求方式<a hidden class=anchor aria-hidden=true href=#215-请求方式>#</a></h2><h3 id=fetch-请求>fetch 请求<a hidden class=anchor aria-hidden=true href=#fetch-请求>#</a></h3><p>fetch 请求是基于 Promise 实现，最简单的 fetch 请求只需要带一个参数，就是请求的路径。fetch 请求会返回一个 Promise</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;urlxxx&#39;</span><span class=p>).</span><span class=nx>then</span><span class=p>(...)</span>
</span></span></code></pre></td></tr></table></div></div><p>用 <code>await</code> 写更清晰，必须用 <code>try...catch</code> 捕获错误</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>getData</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>response</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;urlxxx&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 得到 json 对象
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=kr>await</span> <span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>thorw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><code>response.status</code> 是 <code>200</code> 才会被认定为请求成功</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>async</span> <span class=kd>function</span> <span class=nx>getData</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>response</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;xxx&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=mi>200</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 获取文本数据
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=kr>await</span> <span class=nx>response</span><span class=p>.</span><span class=nx>text</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>statusText</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>一些定制 HTTP 请求的参数：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>response</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>fetch</span><span class=p>(</span><span class=nx>url</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 请求方法，可以是 POST，GET 等
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>methods</span><span class=o>:</span> <span class=s2>&#34;POST&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 请求数据的格式
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>headers</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Content-Type&#34;</span><span class=o>:</span> <span class=s2>&#34;application/json&#34;</span><span class=p>,</span> <span class=c1>//&#39;application/x-www-form-urlencoded&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 有新版本才使用服务器资源否则使用缓存，默认为 &#34;default&#34;，也就是先查找缓存
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>cache</span><span class=o>:</span> <span class=s2>&#34;no-cache&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 默认允许跨域请求，不允许是 &#34;no-cors&#34;，只允许同源是 &#34;same-origin&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>mode</span><span class=o>:</span> <span class=s2>&#34;cors&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 默认同源发送 cookie，还有参数 &#34;include&#34; 和 &#34;omit&#34;，分别为一律发送和一律不发送
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>credentials</span><span class=o>:</span> <span class=s2>&#34;same-origin&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=ajax-请求>ajax 请求<a hidden class=anchor aria-hidden=true href=#ajax-请求>#</a></h3><p>ajax 请求在<code>XMLHttpRequest</code>的基础上实现。<code>XMLHttpRequest</code>请求可以在不刷新整个页面的情况下更新数据。</p><p>使用 Ajax 一共三步：创建对象、发送请求、监听响应</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 创建 ajax 对象
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>xhr</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>XMLHttpRequest</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=cm>/** 配置请求，三个参数 method、url、async
</span></span></span><span class=line><span class=cl><span class=cm> *  method: 可以是 get 或 post
</span></span></span><span class=line><span class=cl><span class=cm> *  url：请求路径
</span></span></span><span class=line><span class=cl><span class=cm> *  async：true 或 false，是否异步
</span></span></span><span class=line><span class=cl><span class=cm>**/</span>
</span></span><span class=line><span class=cl><span class=nx>xhr</span><span class=p>.</span><span class=nx>open</span><span class=p>(</span><span class=s2>&#34;get&#34;</span><span class=p>,</span> <span class=s2>&#34;xxx&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// 发送请求，post 请求可以在其中放入数据
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>xhr</span><span class=p>.</span><span class=nx>send</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=c1>// 监听响应
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>xhr</span><span class=p>.</span><span class=nx>onload</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>xhr</span><span class=p>.</span><span class=nx>responseText</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=216-继承>2.16 继承<a hidden class=anchor aria-hidden=true href=#216-继承>#</a></h2><ul><li><p>原型链继承</p></li><li><p>组合继承</p></li><li><p>寄生式继承</p></li><li><p>寄生式组合继承</p></li></ul><h2 id=217-设计模式>2.17 设计模式<a hidden class=anchor aria-hidden=true href=#217-设计模式>#</a></h2><h3 id=创建型>创建型<a hidden class=anchor aria-hidden=true href=#创建型>#</a></h3><ul><li>单例模式：保证类的实例只有一个</li><li>建造者模式</li></ul><h3 id=结构型>结构型<a hidden class=anchor aria-hidden=true href=#结构型>#</a></h3><ul><li>代理模式</li><li>装饰器模式</li><li>适配器模式</li></ul><h3 id=行为型>行为型<a hidden class=anchor aria-hidden=true href=#行为型>#</a></h3><ul><li>发布订阅模式</li><li>迭代器模式</li></ul><h1 id=3-html-和-css>3. HTML 和 CSS<a hidden class=anchor aria-hidden=true href=#3-html-和-css>#</a></h1><h2 id=31-html5新特性>3.1 HTML5新特性<a hidden class=anchor aria-hidden=true href=#31-html5新特性>#</a></h2><h3 id=增加的特性>增加的特性<a hidden class=anchor aria-hidden=true href=#增加的特性>#</a></h3><ul><li>canvas</li><li>video 和 audio</li><li>localStorage 和 sessionStorage</li><li>语义化更好的元素内容，如 article, footer, header, nav, svg, figure, menu</li><li>新的技术 webworker、 websocket</li></ul><h3 id=移除的元素>移除的元素<a hidden class=anchor aria-hidden=true href=#移除的元素>#</a></h3><ul><li>纯表现的元素，例如 big，basefont，s，u</li><li>对可用性产生负面影响，例如 frame，noframes</li></ul><h2 id=32-html-语义化>3.2 HTML 语义化<a hidden class=anchor aria-hidden=true href=#32-html-语义化>#</a></h2><ul><li>结构清晰，利于 SEO</li><li>便于维护</li><li>没有 css 也能看懂</li><li>便于对浏览器、搜索引擎解析</li></ul><h2 id=33-html-中-title-属性和-alt-属性的区别>3.3 HTML 中 title 属性和 alt 属性的区别<a hidden class=anchor aria-hidden=true href=#33-html-中-title-属性和-alt-属性的区别>#</a></h2><ul><li>title 是图片加载后的标题，鼠标放上去后会显示</li><li>alt 是图片没有加载出来时候显示的内容</li></ul><h2 id=34-重绘和重排>3.4 重绘和重排<a hidden class=anchor aria-hidden=true href=#34-重绘和重排>#</a></h2><h3 id=重绘-repaint>重绘 (repaint)<a hidden class=anchor aria-hidden=true href=#重绘-repaint>#</a></h3><p>部分重新绘制，style 修改。重绘不一定发生重排。</p><p>触发场景：</p><ul><li>color 修改</li><li>text-align 修改</li><li>a:hover 修改</li></ul><h3 id=重排回流-reflow>重排/回流 (reflow)<a hidden class=anchor aria-hidden=true href=#重排回流-reflow>#</a></h3><p>重新排版布局，涉及 DOM 的排版布局问题，性能损耗更多。重排必定发生重绘。</p><p>触发场景：</p><ul><li>盒子长宽的改变</li><li>动画，伪类等引起的元素表面改动</li><li>display: none</li><li>scroll、resize 页面</li><li>background 的修改</li><li>appendChild 等 DOM 元素操作</li><li>读取元素的属性，如 offsetLeft、offsetTop、scrollTop/Left/&mldr;</li></ul><h3 id=如何避免重绘重排>如何避免重绘重排<a hidden class=anchor aria-hidden=true href=#如何避免重绘重排>#</a></h3><ul><li>通过改变 class 批量改变 style，同时尽可能减少受影响的 DOM</li><li>使用 absolute 或 fixed 脱离文档流</li><li>GPU 加速，开启之后的元素会被独立出来，不再影响其他布局</li><li>避免用 table 进行布局</li></ul><h2 id=35-bfc>3.5 BFC<a hidden class=anchor aria-hidden=true href=#35-bfc>#</a></h2><p>块级格式化上下文，是一块独立渲染的区域，内部元素的渲染不会影响外部的元素。BFC 布局会把盒子在垂直方向上一个一个排列，盒子之间的距离由 margin 决定，两个相邻盒子的 margin 会互相重叠。BFC 区域不会与 float box 重叠，计算高度时，浮动盒子也参与计算。</p><p>触发 BFC</p><ul><li>根元素 html</li><li>display 为 inline-block，table-cell, table-caption</li><li>position 为 fixed 或 absolute</li><li>float 不为 none</li><li>oveflow 不为 visible</li></ul><h2 id=36-css3-新特性>3.6 CSS3 新特性<a hidden class=anchor aria-hidden=true href=#36-css3-新特性>#</a></h2><ul><li>border-radius，box-shadow</li><li>文本效果 text-shadow、font-family、font-weight、font-style</li><li>多背景 rgba</li><li>动画 @keyframes</li><li>线性渐变</li><li>新增伪类</li></ul><h2 id=37-盒子模型>3.7 盒子模型<a hidden class=anchor aria-hidden=true href=#37-盒子模型>#</a></h2><ul><li>标准盒模型：<code>box-sizing: content-box</code>，设置的宽高只表示内容的宽高，不包含 padding 和 border</li><li>怪异盒模型：<code>box-sizing: border-box</code>，设置的宽高就是整个盒子的大小，包含 padding 和 border</li></ul><h2 id=38-水平垂直居中>3.8 水平垂直居中<a hidden class=anchor aria-hidden=true href=#38-水平垂直居中>#</a></h2><ol><li>绝对定位<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>.</span><span class=nc>item</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>position</span><span class=p>:</span> <span class=kc>absolute</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>top</span><span class=p>:</span> <span class=mi>50</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>left</span><span class=p>:</span> <span class=mi>50</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>margin-top</span><span class=p>:</span> <span class=mi>-75</span><span class=kt>px</span><span class=p>;</span>  <span class=c>/* 设置margin-left / margin-top 为自身高度的一半 */</span>
</span></span><span class=line><span class=cl>    <span class=k>margin-left</span><span class=p>:</span> <span class=mi>-75</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li>transform<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>.</span><span class=nc>item</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>position</span><span class=p>:</span> <span class=kc>absolute</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>top</span><span class=p>:</span> <span class=mi>50</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>left</span><span class=p>:</span> <span class=mi>50</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>transform</span><span class=p>:</span> <span class=nb>translate</span><span class=p>(</span><span class=mi>-50</span><span class=kt>%</span><span class=p>,</span> <span class=mi>-50</span><span class=kt>%</span><span class=p>);</span>  <span class=c>/* 使用 css3 的 transform 来实现 */</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li>flex 布局<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>.</span><span class=nc>parent</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>display</span><span class=p>:</span> <span class=kc>flex</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>justify-content</span><span class=p>:</span> <span class=kc>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>align-items</span><span class=p>:</span> <span class=kc>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li>grid 布局<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>.</span><span class=nc>parent</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>display</span><span class=p>:</span> <span class=k>grid</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>justify-content</span><span class=p>:</span> <span class=kc>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>align-items</span><span class=p>:</span> <span class=kc>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li>table-cell 布局<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>.</span><span class=nc>parent</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>display</span><span class=p>:</span> <span class=kc>table-cell</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>text-align</span><span class=p>:</span> <span class=kc>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>vertical-align</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>item</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>display</span><span class=p>:</span> <span class=kc>inline-block</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h2 id=39-画一个三角形>3.9 画一个三角形<a hidden class=anchor aria-hidden=true href=#39-画一个三角形>#</a></h2><p>盒子宽高都设为 0，只设置 border，三条边都设置 transparent，只留一条边有颜色</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>#</span><span class=nn>demo</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=k>width</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=k>height</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=k>border-width</span><span class=p>:</span> <span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=k>border-style</span><span class=p>:</span> <span class=kc>solid</span><span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=k>border-color</span><span class=p>:</span> <span class=kc>transparent</span> <span class=kc>transparent</span> <span class=kc>red</span> <span class=kc>transparent</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=310-三栏布局>3.10 三栏布局<a hidden class=anchor aria-hidden=true href=#310-三栏布局>#</a></h2><p>三栏布局的要求是两边宽度固定，中间的盒子自适应布局，高度随内容撑起。</p><h3 id=圣杯布局>圣杯布局<a hidden class=anchor aria-hidden=true href=#圣杯布局>#</a></h3><p>三个盒子放在一个父元素节点中，设置父盒子 padding 为左右两栏的宽度且 <code>overflow: hidden</code>，三个盒子设置左浮动 <code>float: left</code>。中间盒子宽度设置 100%，两栏宽度设好，左栏 margin 设置 -100% 且右移一个自身宽度，右栏 margin 设置 -自身宽度，且左移一个自身宽度。</p><p>好处是不用添加 DOM 节点，但是 middle 部分小于 left 部分时布局会破碎。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>parent</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>padding</span><span class=p>:</span> <span class=mi>0</span> <span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>overflow</span><span class=p>:</span> <span class=kc>hidden</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>column</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>float</span><span class=p>:</span> <span class=kc>left</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>position</span><span class=p>:</span> <span class=kc>relative</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>height</span><span class=p>:</span> <span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>middle</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>width</span><span class=p>:</span> <span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>background-color</span><span class=p>:</span> <span class=kc>pink</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>left</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>width</span><span class=p>:</span> <span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>background-color</span><span class=p>:</span> <span class=mh>#eee</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>margin-left</span><span class=p>:</span> <span class=mi>-100</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>left</span><span class=p>:</span> <span class=mi>-200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>right</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>width</span><span class=p>:</span> <span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>background-color</span><span class=p>:</span> <span class=mh>#eee</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>margin-left</span><span class=p>:</span> <span class=mi>-200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>left</span><span class=p>:</span> <span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;parent&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;middle column&#34;</span><span class=p>&gt;</span>middle<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;left column&#34;</span><span class=p>&gt;</span>left<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;right column&#34;</span><span class=p>&gt;</span>right<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=双飞翼布局>双飞翼布局<a hidden class=anchor aria-hidden=true href=#双飞翼布局>#</a></h3><p>中间盒子外面需要再包一层盒子，将外面这层盒子设置 margin 为左右两栏的宽度，三个盒子设置浮动，中间盒子宽度 100%，两边盒子宽度设置好之后，左边盒子设置 margin-left 为 100%，右边盒子设置 margin-left 为 -自身宽度，最后父盒子清除浮动。</p><p>好处是稳定，代码简洁，缺点是多加了 DOM 节点。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>container</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>overflow</span><span class=p>:</span> <span class=kc>hidden</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>content</span><span class=o>,</span> <span class=p>.</span><span class=nc>left</span><span class=o>,</span> <span class=p>.</span><span class=nc>right</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>float</span><span class=p>:</span> <span class=kc>left</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>height</span><span class=p>:</span> <span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>content</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>width</span><span class=p>:</span> <span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>center</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>margin</span><span class=p>:</span> <span class=mi>0</span> <span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>background-color</span><span class=p>:</span> <span class=kc>pink</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>height</span><span class=p>:</span> <span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>left</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>width</span><span class=p>:</span> <span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>margin-left</span><span class=p>:</span> <span class=mi>-100</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>background-color</span><span class=p>:</span> <span class=mh>#eee</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>right</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>width</span><span class=p>:</span> <span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>margin-left</span><span class=p>:</span> <span class=mi>-200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>background-color</span><span class=p>:</span> <span class=mh>#eee</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;container&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;content&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;center&#34;</span><span class=p>&gt;</span>center<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;left&#34;</span><span class=p>&gt;</span>left<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;right&#34;</span><span class=p>&gt;</span>right<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=311-link-和-import-的区别>3.11 link 和 @import 的区别<a hidden class=anchor aria-hidden=true href=#311-link-和-import-的区别>#</a></h2><ul><li>link 属于 XHTML 标签，除了加载 CSS 外，还能用于定义 RSS(是一种描述和同步网站内容的格式，是使用最广泛的 XML 应用), 定义 rel 连接属性等作用</li><li>而 @import 是 CSS 提供的，只能用于加载 CSS</li><li>页面被加载的时，link 会同时被加载，而 @import 引用的 CSS 会等到页面被加载完再加载</li><li>import 是 CSS2.1 提出的，只在 IE5 以上才能被识别，而 link 是 XHTML 标签，无兼容问题
总之，link 要优于 @import。</li></ul><h2 id=312-雪碧图>3.12 雪碧图<a hidden class=anchor aria-hidden=true href=#312-雪碧图>#</a></h2><p>将一个页面设计到的图片包含到一张图片里去，然后通过定位的方法选取合适的图片。</p><p>这样做的好处是：</p><ul><li>可以一次请求完所有图片，不用发很多请求，加快了速度，提升了页面性能</li><li>减少图片的字节，放在一起比单独的图片字节数更小</li><li>更换风格方便，只需要更换这张雪碧图所有的图标风格都可以改变</li></ul><p>缺点是：</p><ul><li>切图很麻烦，还可能造成背景断裂</li><li>开发和维护都比较麻烦，一个图标元素的位置移动可能导致所有图标位置都要移动</li></ul><h2 id=313-伪类和伪元素>3.13 伪类和伪元素<a hidden class=anchor aria-hidden=true href=#313-伪类和伪元素>#</a></h2><p>根本不同在于是否创建了新的 DOM 元素</p><ul><li>伪类操作文档中已有的元素，如 <code>:hover</code>、<code>:link</code>、<code>:focus</code></li><li>伪元素创建新的元素进行操作，如 <code>::first-line</code>、<code>:before</code>、<code>:after</code></li></ul><h2 id=314-flex布局>3.14 flex布局<a hidden class=anchor aria-hidden=true href=#314-flex布局>#</a></h2><p><a href=http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html>参考</a></p><p>容器的属性</p><ul><li>flex: wrap 决定如何换行，nowrap | wrap | wrap-reverse</li><li>flex: direction 决定主轴的方向，row | row-reverse | column | column-reverse</li><li>justify-content 决定主轴上的对齐方式</li><li>align-items 决定交叉轴上的对齐方式</li></ul><p>项目的属性</p><ul><li>grow：存在剩余空间时的放大倍数</li><li>shrink：空间不足时的缩小比例</li><li>basis：分配多余空间之前，主轴占据的空间</li><li>flex: 1 包含了三个元素：grow, shrink, basis，默认值为 0 1 auto<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>.</span><span class=nc>item</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>flex</span><span class=p>:</span> <span class=kc>none</span> <span class=o>|</span> <span class=p>[</span> <span class=o>&lt;</span><span class=s1>&#39;flex-grow&#39;</span><span class=o>&gt;</span> <span class=o>&lt;</span><span class=s1>&#39;flex-shrink&#39;</span><span class=o>&gt;?</span> <span class=o>||</span> <span class=o>&lt;</span><span class=s1>&#39;flex-basis&#39;</span><span class=o>&gt;</span> <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h2 id=315-rem-和-em>3.15 rem 和 em<a hidden class=anchor aria-hidden=true href=#315-rem-和-em>#</a></h2><ul><li>rem 是根据根节点的字体大小比例调整</li><li>em 是根据父节点的字体大小进行比例调整</li></ul><p>rem 经常被用于移动端响应式的布局，原理是通过 媒体查询 或 flexible.js，在屏幕尺寸发生变化时，改变 html 元素的字体大小。也可以和 vw、vh 配合使用，用 vw 设置 html 根元素字体大小，当窗口大小改变时实现自适应改变字体大小。</p><h2 id=316-清除浮动>3.16 清除浮动<a hidden class=anchor aria-hidden=true href=#316-清除浮动>#</a></h2><ul><li>结尾插入空标签或 br，添加 <code>clear: both</code></li><li>父级盒子定义 <code>overflow: hidden</code></li><li>父级盒子 <code>display: table</code></li><li>after 伪元素清除浮动<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>.</span><span class=nc>clearfix</span><span class=p>:</span><span class=nd>after</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>content</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>display</span><span class=p>:</span> <span class=kc>block</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>height</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>clear</span><span class=p>:</span> <span class=kc>both</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>visibility</span><span class=p>:</span> <span class=kc>hidden</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c>/* IE6、7 专有 */</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>clearfix</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=err>*</span><span class=n>zoom</span><span class=p>:</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li>before 和 after 双伪元素清除浮动<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>.</span><span class=nc>clearfix</span><span class=p>:</span><span class=nd>before</span><span class=o>,</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>clearfix</span><span class=p>:</span><span class=nd>after</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>content</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>display</span><span class=p>:</span> <span class=kc>table</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>clearfix</span><span class=p>:</span><span class=nd>after</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>clear</span><span class=p>:</span> <span class=kc>both</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>clearfix</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=err>*</span><span class=n>zoom</span><span class=p>:</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h2 id=317-元素消失>3.17 元素消失<a hidden class=anchor aria-hidden=true href=#317-元素消失>#</a></h2><ul><li>visibility: hidden</li><li>opacity: 0</li><li>display: none</li></ul><p>前两个元素存在但不显示，后面这个元素不渲染，不保留位置</p><h2 id=318-position>3.18 position<a hidden class=anchor aria-hidden=true href=#318-position>#</a></h2><p>属性值有 static | relative | fixed | absolute | sticky | inherit</p><p>static 和 relative 不脱离文档流，relative 用于定位偏移的位置也作为空间保留</p><p>fixed 和 absolute 脱离文档流，absolute 用于定位父元素不受影响，fixed 是相对于浏览器窗口进行定位</p><h1 id=4-vue>4. Vue<a hidden class=anchor aria-hidden=true href=#4-vue>#</a></h1><h2 id=41-mvc-和-mvvm>4.1 MVC 和 MVVM<a hidden class=anchor aria-hidden=true href=#41-mvc-和-mvvm>#</a></h2><h3 id=mvc>MVC<a hidden class=anchor aria-hidden=true href=#mvc>#</a></h3><p>在 Controller 中响应用户对 View 的事件，Controller 调用 Model 的接口对数据进行操作，一旦 Model 发生变化 Model 就通知相关视图进行更新</p><ul><li>Model：数据和数据的处理方法</li><li>View：视图，负责对数据的展示</li><li>Controller：定义界面对用户输入的响应方式，连接模型和视图，用于控制应用程序的流程，处理用户的行为和数据上的改变</li></ul><h3 id=mvvm>MVVM<a hidden class=anchor aria-hidden=true href=#mvvm>#</a></h3><p>mvvm 把 view 和 model 的同步逻辑自动化，只需要告诉 view 的显示内容与 model 哪一部分对应即可。采用双向绑定。</p><ul><li>Model：数据和数据的处理方法</li><li>View：视图，负责对数据的展示</li><li>ViewModel：View 的变动，自动反映在 ViewModel</li></ul><h2 id=42-生命周期>4.2 生命周期<a hidden class=anchor aria-hidden=true href=#42-生命周期>#</a></h2><p>Vue 有完整的生命周期，创建 -> 挂载 -> 更新 -> 销毁</p><ul><li>beforeCreated<br>开始创建数据，只有默认的生命周期钩子和默认事件，data 和 methods 还没有初始化</li><li>Created<br>data 有了，可以访问数据和方法，但没有挂载到 DOM，可以操作数据</li><li>beforeMount<br>挂载之前，编译好了，但还没有挂载到页面上</li><li>Mounted<br>到此创建完成了，可以进行 DOM 操作了</li><li>beforeUpdate<br>data 中数据已经更新了，但还没有更新到页面上，页面上还是旧的数据</li><li>Updated<br>页面上的数据被更新了，页面和 data 中数据一致了</li><li>beforeDestroy<br>销毁之前，适合销毁定时器等</li><li>Destroyed<br>所有的数据、方法、过滤器、指令都不可用了，组件已经被销毁了</li></ul><h2 id=43-双向绑定>4.3 双向绑定<a hidden class=anchor aria-hidden=true href=#43-双向绑定>#</a></h2><h3 id=objectdefineproperty>Object.defineProperty<a hidden class=anchor aria-hidden=true href=#objectdefineproperty>#</a></h3><p>Object.defineProperty 进行数据劫持，遍历所有的属性给它们增加 getter 和 setter，组件的 data 发生变化时，将变化发布给订阅者，订阅者收到消息后进行处理</p><p>缺点：</p><ul><li>无法监听数组通过下标改变对应数据</li><li>无法对新增加或删除的属性进行监听，需要使用 Vue.set()</li><li>一次性递归到底开销很大</li></ul><h3 id=proxy>Proxy<a hidden class=anchor aria-hidden=true href=#proxy>#</a></h3><p>使用 ES6 提供的 Proxy 进行数据拦截，劫持整个对象，然后返回一个新对象</p><p>解决无法监听新增属性或删除属性的响应式问题、解决无法监听数组长度和 index 变化问题。</p><h2 id=44-vue3新特性>4.4 Vue3新特性<a hidden class=anchor aria-hidden=true href=#44-vue3新特性>#</a></h2><ul><li>proxy 代替 Object.defineProperty</li><li>优化 diff 算法</li><li>生命周期不同了</li><li>Vue3 使用组合式 API</li><li>支持 TS</li></ul><h2 id=45-路由>4.5 路由<a hidden class=anchor aria-hidden=true href=#45-路由>#</a></h2><h3 id=history>history<a hidden class=anchor aria-hidden=true href=#history>#</a></h3><p>美观但兼容性略差，部署上线可能会出现 404 问题。</p><p>解决方法：使用 node 的 connect-history 中间件</p><h3 id=hash>hash<a hidden class=anchor aria-hidden=true href=#hash>#</a></h3><p>哈希模式 # 后面的路径不发送给服务器，不太美观，有可能被 APP 标记为不合法，但兼容性好。</p><h2 id=46-路由守卫>4.6 路由守卫<a hidden class=anchor aria-hidden=true href=#46-路由守卫>#</a></h2><p>作用：保护路由的安全，权限问题</p><h3 id=全局路由守卫>全局路由守卫<a hidden class=anchor aria-hidden=true href=#全局路由守卫>#</a></h3><p>分为<code>beforeEach、beforeResolve、afterEach</code></p><p>使用：全局前置路由守卫<code>beforeEach</code> 进行权限校验</p><h3 id=独享路由守卫>独享路由守卫<a hidden class=anchor aria-hidden=true href=#独享路由守卫>#</a></h3><p>只有前置守卫<code>beforeEnter</code>，是在路由配置页面单独给路由配置的一个守卫</p><p>使用：不同的路由重用守卫，<code>beforeEnter</code> 守卫只在进入路由时触发</p><h3 id=组件内路由守卫>组件内路由守卫<a hidden class=anchor aria-hidden=true href=#组件内路由守卫>#</a></h3><p>分为进入守卫和离开守卫<code>beforeRouteEnter</code>、<code>beforeRouteLeave</code>、<code>beforeRouteUpdate</code></p><p>使用：</p><ul><li><code>beforeRouteLeave</code>：离开页面时弹出提示窗口，清除当前组件中的定时器等；关闭页面时, 将公用信息保存到 session 或 Vuex 中；当前页面中有未关闭的窗口或未保存的内容阻止页面跳转</li><li><code>beforeRouteUpdate</code>：动态路由跳转</li></ul><h2 id=47-vuex>4.7 Vuex<a hidden class=anchor aria-hidden=true href=#47-vuex>#</a></h2><p>用于集中式管理数据，一般用于大中型应用</p><ul><li>state：记录数据状态</li><li>getters：获取数据，可以根据 state 中的数据进行过滤派生出一些新的数据</li><li>action：进行异步操作</li><li>mutations：唯一可以改变 state 中数据的方法</li><li>module：如果数据较多可以分模块</li></ul><h2 id=48-nexttick>4.8 nextTick<a hidden class=anchor aria-hidden=true href=#48-nexttick>#</a></h2><p>Vue在更新数据时是异步执行的，data 中数据更新了但页面还没来得及更新，所以如果立刻获取 DOM，获取到的是还没有更新的 DOM，nextTick 就是等数据更新之后再进行 DOM 操作。本质是返回一个 Promise</p><h2 id=49-diff算法>4.9 Diff算法<a hidden class=anchor aria-hidden=true href=#49-diff算法>#</a></h2><p>Diff 算法用来找出虚拟 DOM 中被改变的部分，然后针对原生 DOM 进行渲染，不用改变所有节点重新渲染整个页面</p><p>比较方式</p><ul><li>同层比较：两个树的完全的 diff 算法是一个时间复杂度为 O(n^3) 的问题。但是在前端当中，你很少会跨越层级地移动 DOM 元素。所以 Virtual DOM 只会对同一个层级的元素进行对比，这样算法复杂度就可以达到 O(n)。</li><li>深度优先：在实际的代码中，会对新旧两棵树进行一个深度优先的遍历，这样每个节点都会有一个唯一的标记。在深度优先遍历的时候，每遍历到一个节点就把该节点和新的的树进行对比。如果有差异的话就记录到一个对象里面。</li></ul><h2 id=410-组件间通信>4.10 组件间通信<a hidden class=anchor aria-hidden=true href=#410-组件间通信>#</a></h2><ul><li>父传子：props</li><li>子传父：$emit, $on</li><li>任意组件间<ul><li>vuex</li><li>eventbus：使用方法是创建一个新的Vue实例，需要通信的组件都引入该Vue实例，传递数据的组件使用 <code>event.$emit('名称',参数)</code> 发送数据，接收数据的组件使用 <code>event.$on('名称',方法)</code> 接收数据</li><li>订阅发布模式</li></ul></li></ul><h2 id=411-keep-alive>4.11 keep-alive<a hidden class=anchor aria-hidden=true href=#411-keep-alive>#</a></h2><p>用 <code>&lt;keep-alive></code> 标签对需要缓存的组件进行包裹，保存内存中组件的状态，进行缓存，防止重新加载 DOM，减少加载时间，提高性能。</p><p>多了两个生命周期：activated、deactivated，分别在进入和退出时触发。</p><p>属性：</p><ul><li>include：缓存包含哪些组件</li><li>exclude：缓存不包含哪些组件</li><li>max：最多保存的组件数</li></ul><h2 id=412-v-if-和-v-show>4.12 v-if 和 v-show<a hidden class=anchor aria-hidden=true href=#412-v-if-和-v-show>#</a></h2><ul><li>v-if 一开始不渲染，不在 DOM 树中，节点要显示出来才开始渲染，渲染一次消耗很大</li><li>v-show 一开始渲染好了只是不显示，适用于隐藏显示操作频繁的情况</li></ul><h2 id=413-为什么-data-不能是一个对象而是一个匿名函数>4.13 为什么 data 不能是一个对象而是一个匿名函数？<a hidden class=anchor aria-hidden=true href=#413-为什么-data-不能是一个对象而是一个匿名函数>#</a></h2><p>JS 中对象是引用类型的数据，而在 Vue 的组件中，我们更多考虑的是组件的复用，所以每个 data 都要有自己独立的存储空间，这样组件之间才不会相互干扰。所以组件中要写成函数的形式，数据以函数的返回值定义，这样每次复用组件的时候就会返回新的 data。</p><h2 id=414-为什么-v-for-和-v-if-不要一起使用>4.14 为什么 v-for 和 v-if 不要一起使用？<a hidden class=anchor aria-hidden=true href=#414-为什么-v-for-和-v-if-不要一起使用>#</a></h2><p>v-for 的优先级比 v-if 更高，如果放在一起使用，就算只需要渲染一小部分 v-if，每次 v-for 的计算也都会执行一遍所有的 v-if，造成不必要的计算，影响性能。</p><h1 id=5-webpack>5. Webpack<a hidden class=anchor aria-hidden=true href=#5-webpack>#</a></h1><h2 id=入口和出口>入口和出口<a hidden class=anchor aria-hidden=true href=#入口和出口>#</a></h2><p>配置入口和出口文件</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>path</span> <span class=o>=</span><span class=nx>require</span><span class=p>(</span><span class=s1>&#39;path&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>entry</span><span class=o>:</span> <span class=s1>&#39;./src/index.js&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>output</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>path</span><span class=o>:</span> <span class=nx>path</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=nx>__dirname</span><span class=p>,</span> <span class=s1>&#39;dist&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=nx>filename</span><span class=o>:</span> <span class=s1>&#39;main.js&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>多个入口文件的配置</p><ul><li><p>多 -> 一</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>path</span> <span class=o>=</span><span class=nx>require</span><span class=p>(</span><span class=s1>&#39;path&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>entry</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;./src/a.js&#39;</span><span class=p>,</span> <span class=s1>&#39;./src/b.js&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nx>output</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>path</span><span class=o>:</span> <span class=nx>path</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=nx>__dirname</span><span class=p>,</span> <span class=s1>&#39;dist&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=nx>filename</span><span class=o>:</span> <span class=s1>&#39;main.js&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>多 -> 多</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>path</span> <span class=o>=</span><span class=nx>require</span><span class=p>(</span><span class=s1>&#39;path&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>entry</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>a</span><span class=o>:</span> <span class=s1>&#39;./src/a.js&#39;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>        <span class=nx>b</span><span class=o>:</span> <span class=s1>&#39;./src/b.js&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>output</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>path</span><span class=o>:</span> <span class=nx>path</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=nx>__dirname</span><span class=p>,</span> <span class=s1>&#39;dist&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h2 id=loader>loader<a hidden class=anchor aria-hidden=true href=#loader>#</a></h2><p>loader 让 webpack 可以处理除了 js 文件和 JSON 文件以外的其他类型的文件，将它们转换为有效模块</p><p>loader 有两个属性：</p><ol><li>test 识别出需要进行转换的文件</li><li>use 定义在进行转换时用哪个 loader</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>path</span> <span class=o>=</span><span class=nx>require</span><span class=p>(</span><span class=s1>&#39;path&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>entry</span><span class=o>:</span> <span class=s1>&#39;./src/index.js&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>output</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>path</span><span class=o>:</span> <span class=nx>path</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=nx>__dirname</span><span class=p>,</span> <span class=s1>&#39;dist&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=nx>filename</span><span class=o>:</span> <span class=s1>&#39;main.js&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>module</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>rules</span><span class=o>:</span> <span class=p>[{</span>
</span></span><span class=line><span class=cl>            <span class=nx>test</span><span class=o>:</span> <span class=sr>/\.txt&amp;/</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>use</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;style-loader&#39;</span><span class=p>,</span> <span class=s1>&#39;css-loader&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=插件-plugin>插件 plugin<a hidden class=anchor aria-hidden=true href=#插件-plugin>#</a></h2><p>html-webpack-plugin</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>HTMLWebpackPlugin</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;html-webpack-plugin&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>plugins</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=nx>HTMLWebpackPlugin</span><span class=p>({</span>
</span></span><span class=line><span class=cl>            <span class=nx>template</span><span class=o>:</span> <span class=s1>&#39;./src/index.html&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>filename</span><span class=o>:</span> <span class=s1>&#39;index.html&#39;</span>
</span></span><span class=line><span class=cl>        <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=6-数据结构>6. 数据结构<a hidden class=anchor aria-hidden=true href=#6-数据结构>#</a></h1><h2 id=61-常用的数据结构类型>6.1 常用的数据结构类型<a hidden class=anchor aria-hidden=true href=#61-常用的数据结构类型>#</a></h2><p><a href=https://zh.m.wikipedia.org/zh-hans/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84>参考</a></p><p>数组、栈、堆、队列、链表、散列表、树、图</p><h2 id=62-二分查找>6.2 二分查找<a hidden class=anchor aria-hidden=true href=#62-二分查找>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @param {number[]} nums
</span></span></span><span class=line><span class=cl><span class=cm> * @param {number} target
</span></span></span><span class=line><span class=cl><span class=cm> * @return {number}
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>search</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>nums</span><span class=p>,</span> <span class=nx>target</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>left</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>right</span> <span class=o>=</span> <span class=nx>nums</span><span class=p>.</span><span class=nx>length</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>while</span><span class=p>(</span><span class=nx>left</span> <span class=o>&lt;=</span> <span class=nx>right</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>mid</span> <span class=o>=</span> <span class=nx>left</span><span class=o>+</span><span class=p>((</span><span class=nx>right</span><span class=o>-</span><span class=nx>left</span><span class=p>)</span> <span class=o>&gt;&gt;</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>nums</span><span class=p>[</span><span class=nx>mid</span><span class=p>]</span> <span class=o>===</span> <span class=nx>target</span><span class=p>)</span> <span class=k>return</span> <span class=nx>mid</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>nums</span><span class=p>[</span><span class=nx>mid</span><span class=p>]</span> <span class=o>&gt;</span> <span class=nx>target</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>right</span> <span class=o>=</span> <span class=nx>mid</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>nums</span><span class=p>[</span><span class=nx>mid</span><span class=p>]</span> <span class=o>&lt;</span> <span class=nx>target</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>left</span> <span class=o>=</span> <span class=nx>mid</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=63-排序>6.3 排序<a hidden class=anchor aria-hidden=true href=#63-排序>#</a></h2><h3 id=冒泡排序>冒泡排序<a hidden class=anchor aria-hidden=true href=#冒泡排序>#</a></h3><p>从第一个元素开始，把当前元素和下一个索引元素进行比较。如果当前元素大，那么就交换位置，重复操作直到比较到最后一个元素，那么此时最后一个元素就是该数组中最大的数。下一轮重复以上操作，但是此时最后一个元素已经是最大数了，所以不需要再比较最后一个元素，只需要比较到 <code>length - 1</code> 的位置。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>bubble</span><span class=p>(</span><span class=nx>arr</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>arr</span><span class=p>.</span><span class=nx>length</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kd>let</span> <span class=nx>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>j</span> <span class=o>&lt;</span> <span class=nx>arr</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=p>]</span> <span class=o>&gt;</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=o>+</span><span class=mi>1</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kd>let</span> <span class=nx>tmp</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=o>+</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>                <span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=p>];</span>
</span></span><span class=line><span class=cl>                <span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=p>]</span> <span class=o>=</span> <span class=nx>tmp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span> 
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>arr</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>冒泡每次只关注一个元素，两次循环，平均时间复杂度 \( O(n^2) \)，空间复杂度 \( O(1) \)，该算法是稳定的。</p><h3 id=插入排序>插入排序<a hidden class=anchor aria-hidden=true href=#插入排序>#</a></h3><p>插入排序的原理如下。第一个元素默认是已排序元素，取出下一个元素和当前元素比较，如果当前元素大就交换位置。那么此时第一个元素就是当前的最小数，所以下次取出操作从第三个元素开始，向前对比，重复之前的操作。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>insertion</span><span class=p>(</span><span class=nx>arr</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>arr</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kd>let</span> <span class=nx>j</span> <span class=o>=</span> <span class=nx>i</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span> <span class=nx>j</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>j</span><span class=o>--</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=p>]</span> <span class=o>&gt;</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=o>+</span><span class=mi>1</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kd>let</span> <span class=nx>tmp</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=p>];</span>
</span></span><span class=line><span class=cl>                <span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=p>]</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=o>+</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>                <span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=nx>tmp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>arr</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>直接插入排序是稳定的，平均时间复杂度 \( O(n^2) \)，空间复杂度 \( O(1) \)</p><h3 id=选择排序>选择排序<a hidden class=anchor aria-hidden=true href=#选择排序>#</a></h3><p>选择排序的原理如下。遍历数组，设置最小值的索引为 0，如果取出的值比当前最小值小，就替换最小值索引，遍历完成后，将第一个元素和最小值索引上的值交换。如上操作后，第一个元素就是数组中的最小值，下次遍历就可以从索引 1 开始重复上述操作。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>selection</span><span class=p>(</span><span class=nx>arr</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>arr</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>minIndex</span> <span class=o>=</span> <span class=nx>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kd>let</span> <span class=nx>j</span> <span class=o>=</span> <span class=nx>i</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span> <span class=nx>j</span> <span class=o>&lt;</span> <span class=nx>arr</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>minIndex</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=p>]</span> <span class=o>&lt;</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>minIndex</span><span class=p>]</span> <span class=o>?</span> <span class=nx>j</span> <span class=o>:</span> <span class=nx>minIndex</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>tmp</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>minIndex</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=nx>arr</span><span class=p>[</span><span class=nx>minIndex</span><span class=p>]</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=p>]</span> <span class=o>=</span> <span class=nx>tmp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>arr</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>直接选择排序不稳定，平均时间复杂度 \( O(n^2) \)，空间复杂度 \( O(1) \)</p><h3 id=归并排序>归并排序<a hidden class=anchor aria-hidden=true href=#归并排序>#</a></h3><p>归并排序的原理如下：递归的将数组两两分开直到最多包含两个元素，如果为奇数会有一组只有一个元素，分别排序，然后将数组排序合并再排序，最终合并为排序好的数组。假设我有一组数组 <code>[3, 1, 2, 8, 9, 7, 6]</code>，中间数索引是 3，先排序数组 <code>[3, 1, 2, 8]</code> 。然后排序数组 <code>[3, 1]</code> 和 <code>[2, 8]</code> ，然后再排序数组 <code>[1, 3, 2, 8]</code> ，这样左边数组就排序完成，然后按照以上思路排序右边数组，最后将数组 <code>[1, 2, 3, 8]</code> 和 <code>[6, 7, 9]</code> 排序。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>sort</span><span class=p>(</span><span class=nx>arr</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>mergeSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>arr</span><span class=p>.</span><span class=nx>length</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>arr</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>mergeSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=nx>l</span><span class=p>,</span> <span class=nx>r</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 递归结束条件
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=nx>l</span> <span class=o>===</span> <span class=nx>r</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>mid</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=nx>left</span> <span class=o>+</span> <span class=p>((</span><span class=nx>right</span> <span class=o>-</span> <span class=nx>left</span><span class=p>)</span> <span class=o>&gt;&gt;</span> <span class=mi>1</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=nx>mergeSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=nx>l</span><span class=p>,</span> <span class=nx>mid</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>mergeSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=nx>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=nx>r</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>tmp</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>p1</span> <span class=o>=</span> <span class=nx>l</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>p2</span> <span class=o>=</span> <span class=nx>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 将排序好的数组放入 tmp
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>while</span><span class=p>(</span><span class=nx>p1</span> <span class=o>&lt;=</span> <span class=nx>mid</span> <span class=o>&amp;&amp;</span> <span class=nx>p2</span> <span class=o>&lt;=</span> <span class=nx>r</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>tmp</span><span class=p>[</span><span class=nx>i</span><span class=o>++</span><span class=p>]</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>p1</span><span class=p>]</span> <span class=o>&lt;</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>p2</span><span class=p>]</span> <span class=o>?</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>p1</span><span class=o>++</span><span class=p>]</span> <span class=o>:</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>p2</span><span class=o>++</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=nx>p1</span> <span class=o>&lt;=</span> <span class=nx>mid</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>tmp</span><span class=p>[</span><span class=nx>i</span><span class=o>++</span><span class=p>]</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>p1</span><span class=o>++</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=nx>p2</span> <span class=o>&lt;=</span> <span class=nx>r</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>tmp</span><span class=p>[</span><span class=nx>i</span><span class=o>++</span><span class=p>]</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>p2</span><span class=o>++</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>tmp</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>arr</span><span class=p>[</span><span class=nx>l</span> <span class=o>+</span> <span class=nx>i</span><span class=p>]</span> <span class=o>=</span> <span class=nx>tmp</span><span class=p>[</span><span class=nx>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>arr</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=快排>快排<a hidden class=anchor aria-hidden=true href=#快排>#</a></h3><p>随机选取一个数组中的值作为基准值，取值与基准值对比大小，比基准值小的放数组左边，大的放右边，对比完成后将基准值和第一个比基准值大的值交换位置。然后将数组以基准值的位置分为两部分，继续递归以上操作。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>sort</span><span class=p>(</span><span class=nx>arr</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>quickSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>arr</span><span class=p>.</span><span class=nx>length</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>arr</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>quickSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=nx>l</span><span class=p>,</span> <span class=nx>r</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 结束条件
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=nx>l</span> <span class=o>&gt;</span> <span class=nx>r</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 存储基准数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>tmp</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>l</span><span class=p>];</span> 
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=nx>l</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>j</span> <span class=o>=</span> <span class=nx>r</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>j</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 从右边开始寻找
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>while</span><span class=p>(</span><span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=nx>tmp</span> <span class=o>&amp;&amp;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>j</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>j</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=nx>arr</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span><span class=p>(</span><span class=nx>arr</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=nx>tmp</span> <span class=o>&amp;&amp;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>j</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>i</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=p>]</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>i</span><span class=p>];</span> 
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>arr</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>=</span> <span class=nx>tmp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>quickSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=nx>l</span><span class=p>,</span> <span class=nx>i</span><span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>quickSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=nx>i</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span> <span class=nx>r</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=几种排序方法复杂度和稳定性比较>几种排序方法复杂度和稳定性比较<a hidden class=anchor aria-hidden=true href=#几种排序方法复杂度和稳定性比较>#</a></h3><table><thead><tr><th>排序方法</th><th>平均时间复杂度</th><th>空间复杂度</th><th>稳定性</th></tr></thead><tbody><tr><td>冒泡排序</td><td>\( O(n^2) \)</td><td>\( O(1) \)</td><td>稳定</td></tr><tr><td>直接插入排序</td><td>\( O(n^2) \)</td><td>\( O(1) \)</td><td>稳定</td></tr><tr><td>直接选择排序</td><td>\( O(n^2) \)</td><td>\( O(1) \)</td><td>不稳定</td></tr><tr><td>快速排序</td><td>\( O(nlogn) \)</td><td>\( O(nlogn) \)</td><td>不稳定</td></tr><tr><td>归并排序</td><td>\( O(nlogn) \)</td><td>\( O(n) \)</td><td>稳定</td></tr></tbody></table></div><footer class=post-footer><ul class=post-tags><li><a href=/tags/interview/>interview</a></li><li><a href=/tags/js/>js</a></li><li><a href=/tags/vue/>Vue</a></li><li><a href=/tags/cs/>CS</a></li></ul><nav class=paginav><a class=prev href=/posts/cs/shell/><span class=title>« Prev</span><br><span>Shell操作指南</span></a>
<a class=next href=/posts/frontend/vue-budget-travel-day2/><span class=title>Next »</span><br><span>Budget Travel 项目记录 Day2</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share 期末知识点复习 on twitter" href="https://twitter.com/intent/tweet/?text=%e6%9c%9f%e6%9c%ab%e7%9f%a5%e8%af%86%e7%82%b9%e5%a4%8d%e4%b9%a0&url=%2fposts%2ffrontend%2finterview-practice%2f&hashtags=interview%2cjs%2cVue%2cCS"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 期末知识点复习 on reddit" href="https://reddit.com/submit?url=%2fposts%2ffrontend%2finterview-practice%2f&title=%e6%9c%9f%e6%9c%ab%e7%9f%a5%e8%af%86%e7%82%b9%e5%a4%8d%e4%b9%a0"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 期末知识点复习 on facebook" href="https://facebook.com/sharer/sharer.php?u=%2fposts%2ffrontend%2finterview-practice%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 期末知识点复习 on whatsapp" href="https://api.whatsapp.com/send?text=%e6%9c%9f%e6%9c%ab%e7%9f%a5%e8%af%86%e7%82%b9%e5%a4%8d%e4%b9%a0%20-%20%2fposts%2ffrontend%2finterview-practice%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 期末知识点复习 on telegram" href="https://telegram.me/share/url?text=%e6%9c%9f%e6%9c%ab%e7%9f%a5%e8%af%86%e7%82%b9%e5%a4%8d%e4%b9%a0&url=%2fposts%2ffrontend%2finterview-practice%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article><script src=https://utteranc.es/client.js repo=OooldGreen/blog-sources issue-term=pathname theme=github-light crossorigin=anonymous async></script></main><footer class=footer><footer class=entry-footer><div class=social-icons><a href="https://github.com/OooldGreen?tab=repositories" target=_blank rel="noopener noreferrer me" title=Github><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://twitter.com/home target=_blank rel="noopener noreferrer me" title=Twitter><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a><a href=mailto:954895224@qq.com target=_blank rel="noopener noreferrer me" title=Email><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 21" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a><a href=index.xml target=_blank rel="noopener noreferrer me" title=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></div></footer><span>&copy; 2025 <a href>Snow Cabin</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><a href=/search aria-label=search-link title=Search class=search-link id=search-link accesskey=/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link"),mybutton2=document.getElementById("search-link");window.onscroll=function(){document.body.scrollTop>400||document.documentElement.scrollTop>400?(mybutton.style.visibility="visible",mybutton.style.opacity="1",mybutton2.style.visibility="visible",mybutton2.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0",mybutton2.style.visibility="hidden",mybutton2.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>